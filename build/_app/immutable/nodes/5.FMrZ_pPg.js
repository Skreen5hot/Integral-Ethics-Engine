import{f as g,a as p}from"../chunks/rSK1Klio.js";import"../chunks/DbL4GYPF.js";import{o as Ce}from"../chunks/B5EIaqTz.js";import{z as Ne,A as f,F as o,E as n,v as e,B as $e,H as h,D as W,C as c,I as je,G as i,J as k}from"../chunks/yy-X4gVo.js";import{e as y,s as m}from"../chunks/Gi9er-sy.js";import{i as w}from"../chunks/DmsG_J6d.js";import{e as ce,i as ve,s as Pe}from"../chunks/C6g0qCxD.js";import{r as D,a as Ae,s as de,b as Je}from"../chunks/J10jTi4F.js";import{b as Ue,s as Be}from"../chunks/CUzGVDrp.js";import{b as me,a as Fe}from"../chunks/B3Ob6Y-3.js";import{i as Ge}from"../chunks/7Epv3BwO.js";import{s as F}from"../chunks/B2QTNQCc.js";var qe=g('<div class="setting-item svelte-1i19ct2"><label for="max-history" class="svelte-1i19ct2"><strong>Maximum History Items</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Automatically remove oldest items when limit is reached</span></label> <input type="number" id="max-history" min="10" max="1000" step="10" class="svelte-1i19ct2"/></div>'),Ke=g('<label><input type="checkbox" class="svelte-1i19ct2"/> <span class="worldview-name svelte-1i19ct2"> </span> <span class="worldview-cluster svelte-1i19ct2"> </span></label>'),Qe=g('<div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="font-size: var(--font-size-sm); color: var(--color-text-muted);"><strong> </strong> </p></div>'),Ve=g('<div class="weight-item svelte-1i19ct2"><label class="svelte-1i19ct2"><strong> </strong> <span style="font-size: var(--font-size-sm); color: var(--color-text-muted);"> </span></label> <input type="number" min="0" max="1" step="0.1" style="max-width: 100px;"/></div>'),Xe=g('<div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="font-size: var(--font-size-sm); color: var(--color-text-muted);"><strong> </strong> </p></div>'),Ye=g('<span style="margin-left: var(--spacing-md); color: var(--color-success);">✓ Settings exported!</span>'),Ze=g('<div style="margin-top: var(--spacing-xs); color: var(--color-error); font-size: var(--font-size-sm);"> </div>'),et=g("<div> </div>"),tt=g('<div class="container" style="padding: var(--spacing-2xl) 0;"><header style="margin-bottom: var(--spacing-2xl);"><h1>Settings</h1> <p style="color: var(--color-text-muted);">Configure your preferences and customize the deliberation experience</p></header> <main class="flex-col gap-lg"><section class="card"><h2 style="margin-bottom: var(--spacing-lg);" class="svelte-1i19ct2">General Settings</h2> <div class="settings-group svelte-1i19ct2"><div class="setting-item svelte-1i19ct2"><label for="theme" class="svelte-1i19ct2"><strong>Theme</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Choose your preferred color scheme</span></label> <select id="theme" class="svelte-1i19ct2"><option>Light</option><option>Dark</option><option>Auto (System)</option></select></div> <div class="setting-item svelte-1i19ct2"><label for="save-history" style="display: flex; align-items: center; gap: var(--spacing-md); cursor: pointer;" class="svelte-1i19ct2"><input type="checkbox" id="save-history" style="width: auto; cursor: pointer;"/> <div><strong>Save Deliberation History</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Store past deliberations in browser storage</span></div></label></div> <!> <div class="setting-item svelte-1i19ct2"><label for="notifications" style="display: flex; align-items: center; gap: var(--spacing-md); cursor: pointer;" class="svelte-1i19ct2"><input type="checkbox" id="notifications" style="width: auto; cursor: pointer;"/> <div><strong>Enable Notifications</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Receive notifications when deliberations complete</span></div></label></div></div></section> <section class="card"><h2 style="margin-bottom: var(--spacing-md);" class="svelte-1i19ct2">Default Worldviews</h2> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-lg);">Select which worldviews to consult by default. Leave empty to use all 12 worldviews.</p> <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);"></div> <!></section> <section class="card"><h2 style="margin-bottom: var(--spacing-md);" class="svelte-1i19ct2">Custom Domain Weights</h2> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-lg);">Override default domain weights for specific worldviews (0.0 - 1.0). Leave at 0 to use default weights.</p> <div class="weight-overrides svelte-1i19ct2"></div> <!></section> <section class="card"><h2 style="margin-bottom: var(--spacing-lg);" class="svelte-1i19ct2">Data Management</h2> <div class="flex-col gap-md"><div><button class="button button-secondary">Export Settings</button> <!> <p style="margin-top: var(--spacing-xs); color: var(--color-text-muted); font-size: var(--font-size-sm);">Download your settings as a JSON file</p></div> <div><label for="import-file" class="button button-secondary" style="cursor: pointer;">Import Settings</label> <input type="file" id="import-file" accept=".json" style="display: none;"/> <!> <p style="margin-top: var(--spacing-xs); color: var(--color-text-muted); font-size: var(--font-size-sm);">Load settings from a JSON file</p></div> <div style="margin-top: var(--spacing-lg); padding-top: var(--spacing-lg); border-top: 1px solid var(--color-border);"><button class="button" style="background: var(--color-error); color: white;">Clear All Data</button> <p style="margin-top: var(--spacing-xs); color: var(--color-text-muted); font-size: var(--font-size-sm);">⚠️ This will delete all history and reset settings. This action cannot be undone.</p></div></div></section> <section class="card" style="background: var(--color-surface);"><div style="display: flex; gap: var(--spacing-md); flex-wrap: wrap; align-items: center;"><button class="button"> </button> <button class="button button-secondary">Reset to Defaults</button> <!></div></section></main></div>');function pt(ue,pe){Ne(pe,!1);let a=W({defaultWorldviews:[],customWeights:{},theme:"light",enableNotifications:!1,saveHistory:!0,maxHistoryItems:100}),G=[{name:"Materialism",cluster:"Material-Empirical"},{name:"Sensationalism",cluster:"Material-Empirical"},{name:"Phenomenalism",cluster:"Material-Empirical"},{name:"Realism",cluster:"Material-Empirical"},{name:"Dynamism",cluster:"Process-Individual"},{name:"Monadism",cluster:"Process-Individual"},{name:"Idealism",cluster:"Process-Individual"},{name:"Rationalism",cluster:"Process-Individual"},{name:"Psychism",cluster:"Depth-Spiritual"},{name:"Pneumatism",cluster:"Depth-Spiritual"},{name:"Spiritualism",cluster:"Depth-Spiritual"},{name:"Mathematism",cluster:"Depth-Spiritual"}],I=W(!1),d=W(null),E=W(!1),S=W(null);Ce(async()=>F.subscribe(s=>{s.preferences&&c(a,{...e(a),...s.preferences})}));async function ge(){c(I,!0),c(d,null);try{await F.updatePreferences(e(a)),c(d,{type:"success",text:"Settings saved successfully!"})}catch(t){c(d,{type:"error",text:`Error saving settings: ${t.message}`})}finally{c(I,!1),setTimeout(()=>{c(d,null)},3e3)}}function fe(){confirm("Reset all settings to defaults? This cannot be undone.")&&c(a,{defaultWorldviews:[],customWeights:{},theme:"light",enableNotifications:!1,saveHistory:!0,maxHistoryItems:100})}function he(t){e(a).defaultWorldviews.indexOf(t)>-1?h(a,e(a).defaultWorldviews=e(a).defaultWorldviews.filter(r=>r!==t)):h(a,e(a).defaultWorldviews=[...e(a).defaultWorldviews,t])}function ye(t,s){const r=parseFloat(s);if(!(isNaN(r)||r<0||r>1))if(r===0){const{[t]:l,...v}=e(a).customWeights;h(a,e(a).customWeights=v)}else h(a,e(a).customWeights={...e(a).customWeights,[t]:r})}async function be(){const t={preferences:e(a),exportDate:new Date().toISOString(),version:"1.0"},s=JSON.stringify(t,null,2),r=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(r),v=document.createElement("a");v.href=l,v.download=`iee-settings-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(l),c(E,!0),setTimeout(()=>{c(E,!1)},3e3)}async function _e(t){const s=t.target.files?.[0];if(s){try{const r=await s.text(),l=JSON.parse(r);if(l.preferences)c(a,{...e(a),...l.preferences}),c(S,null),c(d,{type:"success",text:"Settings imported successfully!"}),setTimeout(()=>{c(d,null)},3e3);else throw new Error("Invalid settings file format")}catch(r){c(S,`Error importing settings: ${r.message}`),setTimeout(()=>{c(S,null)},5e3)}t.target.value=""}}async function xe(){if(confirm("Clear ALL data including history and settings? This cannot be undone!"))try{await F.reset(),c(a,{defaultWorldviews:[],customWeights:{},theme:"light",enableNotifications:!1,saveHistory:!0,maxHistoryItems:100}),c(d,{type:"success",text:"All data cleared successfully!"})}catch(t){c(d,{type:"error",text:`Error clearing data: ${t.message}`})}}Ge();var H=tt(),q=n(o(H),2),O=o(q),K=n(o(O),2),M=o(K),T=n(o(M),2);f(()=>{e(a),je(()=>{})});var L=o(T);L.value=L.__value="light";var R=n(L);R.value=R.__value="dark";var Q=n(R);Q.value=Q.__value="auto",i(T),i(M);var C=n(M,2),V=o(C),X=o(V);D(X),k(2),i(V),i(C);var Y=n(C,2);{var we=t=>{var s=qe(),r=n(o(s),2);D(r),i(s),Fe(r,()=>e(a).maxHistoryItems,l=>h(a,e(a).maxHistoryItems=l)),p(t,s)};w(Y,t=>{e(a).saveHistory&&t(we)})}var Z=n(Y,2),ee=o(Z),te=o(ee);D(te),k(2),i(ee),i(Z),i(K),i(O);var N=n(O,2),$=n(o(N),4);ce($,5,()=>G,ve,(t,s)=>{var r=Ke();let l;var v=o(r);D(v);var u=n(v,2),b=o(u,!0);i(u);var _=n(u,2),x=o(_,!0);i(_),i(r),f((B,Re)=>{l=Be(r,1,"worldview-checkbox svelte-1i19ct2",null,l,B),Ae(v,Re),m(b,e(s).name),m(x,e(s).cluster)},[()=>({selected:e(a).defaultWorldviews.includes(e(s).name)}),()=>e(a).defaultWorldviews.includes(e(s).name)]),y("change",v,()=>he(e(s).name)),p(t,r)}),i($);var Se=n($,2);{var ze=t=>{var s=Qe(),r=o(s),l=o(r),v=o(l,!0);i(l);var u=n(l);i(r),i(s),f(()=>{m(v,e(a).defaultWorldviews.length),m(u,` worldview${e(a).defaultWorldviews.length!==1?"s":""} selected`)}),p(t,s)};w(Se,t=>{e(a).defaultWorldviews.length>0&&t(ze)})}i(N);var j=n(N,2),P=n(o(j),4);ce(P,5,()=>G,ve,(t,s)=>{var r=Ve(),l=o(r),v=o(l),u=o(v,!0);i(v);var b=n(v,2),_=o(b);i(b),i(l);var x=n(l,2);D(x),i(r),f(()=>{de(l,"for",`weight-${e(s).name??""}`),m(u,e(s).name),m(_,`(${e(s).cluster??""})`),de(x,"id",`weight-${e(s).name??""}`),Je(x,e(a).customWeights[e(s).name]||0)}),y("change",x,B=>ye(e(s).name,B.target.value)),p(t,r)}),i(P);var We=n(P,2);{var ke=t=>{var s=Xe(),r=o(s),l=o(r),v=o(l,!0);i(l);var u=n(l);i(r),i(s),f((b,_)=>{m(v,b),m(u,` custom weight${_??""} defined`)},[()=>Object.keys(e(a).customWeights).length,()=>Object.keys(e(a).customWeights).length!==1?"s":""]),p(t,s)};w(We,t=>{Object.keys(e(a).customWeights).length>0&&t(ke)})}i(j);var A=n(j,2),se=n(o(A),2),J=o(se),ae=o(J),De=n(ae,2);{var Ie=t=>{var s=Ye();p(t,s)};w(De,t=>{e(E)&&t(Ie)})}k(2),i(J);var U=n(J,2),ie=n(o(U),2),Ee=n(ie,2);{var He=t=>{var s=Ze(),r=o(s,!0);i(s),f(()=>m(r,e(S))),p(t,s)};w(Ee,t=>{e(S)&&t(He)})}k(2),i(U);var re=n(U,2),Oe=o(re);k(2),i(re),i(se),i(A);var oe=n(A,2),ne=o(oe),z=o(ne),Me=o(z,!0);i(z);var le=n(z,2),Te=n(le,2);{var Le=t=>{var s=et();let r;var l=o(s,!0);i(s),f(()=>{r=Pe(s,"padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--radius-md); font-size: var(--font-size-sm);",r,{background:e(d).type==="success"?"#d1fae5":"#fee",color:e(d).type==="success"?"var(--color-success)":"var(--color-error)"}),m(l,e(d).text)}),p(t,s)};w(Te,t=>{e(d)&&t(Le)})}i(ne),i(oe),i(q),i(H),f(()=>{z.disabled=e(I),m(Me,e(I)?"Saving...":"Save Settings")}),Ue(T,()=>e(a).theme,t=>h(a,e(a).theme=t)),me(X,()=>e(a).saveHistory,t=>h(a,e(a).saveHistory=t)),me(te,()=>e(a).enableNotifications,t=>h(a,e(a).enableNotifications=t)),y("click",ae,be),y("change",ie,_e),y("click",Oe,xe),y("click",z,ge),y("click",le,fe),p(ue,H),$e()}export{pt as component};
