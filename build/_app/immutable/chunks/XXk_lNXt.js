import{f as d,b as v,c as ot,t as yt}from"./D1ATb3b7.js";import"./BGg7sefH.js";import{c as It,o as Jt}from"./BoVXLz8J.js";import{aO as dt,b0 as Se,D as j,v as e,C as O,w as p,b1 as Dt,aV as a,aY as f,b3 as ht,aW as t,u as n,aU as s,aQ as ct,aT as et,aC as vt}from"./kfStWTRK.js";import{s as i,e as te}from"./Cr1iQsZf.js";import{i as $}from"./C9mbOshn.js";import{e as be,i as ye,s as Ce}from"./CcDHXilr.js";import{s as xt}from"./CPmWnx8v.js";import{b as wt,s as We}from"./Cs3SXjc1.js";import{i as pt}from"./CGMZv9GO.js";import{s as Lt}from"./wK22Q-Hd.js";import"./B0-zVcZI.js";import{p as lt}from"./BdgLcHm5.js";import{b as jt}from"./BmMTTphw.js";var At=d("<option> </option>"),Mt=d("<option> </option>"),Nt=d('<div class="loading-state svelte-19b8896"><p>Loading history...</p></div>'),Ut=d('<button class="button button-secondary">Clear Filters</button>'),Et=d('<div class="empty-state svelte-19b8896"><p>No deliberations found</p> <!></div>'),Ot=d('<span class="sort-indicator svelte-19b8896"> </span>'),Pt=d('<span class="sort-indicator svelte-19b8896"> </span>'),qt=d('<span class="sort-indicator svelte-19b8896"> </span>'),Bt=d('<span class="sort-indicator svelte-19b8896"> </span>'),Rt=d('<tr class="history-row svelte-19b8896" tabindex="0" role="button"><td class="timestamp-cell svelte-19b8896"> </td><td class="scenario-cell svelte-19b8896"><span class="scenario-preview svelte-19b8896"> </span></td><td class="svelte-19b8896"><span class="domain-badge svelte-19b8896"> </span></td><td class="svelte-19b8896"><span> </span></td><td class="svelte-19b8896"><div class="confidence-bar-container svelte-19b8896"><div class="confidence-bar svelte-19b8896"></div> <span class="confidence-text svelte-19b8896"> </span></div></td><td class="conflicts-cell svelte-19b8896"> </td></tr>'),Ft=d('<div class="pagination svelte-19b8896"><button class="pagination-button svelte-19b8896">← Previous</button> <span class="page-indicator svelte-19b8896"> </span> <button class="pagination-button svelte-19b8896">Next →</button></div>'),Ht=d('<div class="table-wrapper svelte-19b8896"><table class="history-table svelte-19b8896"><thead class="svelte-19b8896"><tr><th class="sortable svelte-19b8896">Date <!></th><th class="scenario-column svelte-19b8896">Scenario</th><th class="sortable svelte-19b8896">Domain <!></th><th class="sortable svelte-19b8896">Judgment <!></th><th class="sortable svelte-19b8896">Confidence <!></th><th class="svelte-19b8896">Conflicts</th></tr></thead><tbody></tbody></table></div> <!>',1),Yt=d('<div class="history-table-container svelte-19b8896"><div class="controls-bar svelte-19b8896"><div class="filters svelte-19b8896"><select class="svelte-19b8896"></select> <select class="svelte-19b8896"></select></div> <div class="stats svelte-19b8896"> </div></div> <!></div>');function Gt(tt,ze){dt(ze,!1);const P=O(),u=O(),S=O();let R=lt(ze,"history",24,()=>[]),M=lt(ze,"loading",8,!1);const I=It();let l=O("timestamp"),r=O("desc"),Z=O(""),N=O(""),Y=O(1),he=10;const Ve=[{value:"",label:"All Domains"},{value:"healthcare",label:"Healthcare"},{value:"spiritual",label:"Spiritual"},{value:"education",label:"Education"},{value:"vocational",label:"Vocational"},{value:"environmental",label:"Environmental"},{value:"interpersonal",label:"Interpersonal"},{value:"intellectual",label:"Intellectual"},{value:"general",label:"General"}],Ye=[{value:"",label:"All Judgments"},{value:"permissible",label:"Permissible"},{value:"impermissible",label:"Impermissible"},{value:"uncertain",label:"Uncertain"}];function Ae(o){e(l)===o?j(r,e(r)==="asc"?"desc":"asc"):(j(l,o),j(r,"desc"))}function Ge(o){I("select",o)}function V(o){return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ae(o){return o.charAt(0).toUpperCase()+o.slice(1)}Se(()=>(p(R()),e(Z),e(N),e(l),e(r)),()=>{j(P,R().filter(o=>!(e(Z)&&o.domain!==e(Z)||e(N)&&o.judgment!==e(N))).sort((o,g)=>{let m,k;switch(e(l)){case"timestamp":m=new Date(o.timestamp).getTime(),k=new Date(g.timestamp).getTime();break;case"domain":m=o.domain,k=g.domain;break;case"judgment":m=o.judgment,k=g.judgment;break;case"confidence":m=o.confidence,k=g.confidence;break;default:m=new Date(o.timestamp).getTime(),k=new Date(g.timestamp).getTime()}return e(r)==="asc"?m>k?1:m<k?-1:0:m<k?1:m>k?-1:0}))}),Se(()=>e(P),()=>{j(u,Math.ceil(e(P).length/he))}),Se(()=>(e(Z),e(N)),()=>{(e(Z)||e(N))&&j(Y,1)}),Se(()=>(e(P),e(Y)),()=>{j(S,e(P).slice((e(Y)-1)*he,e(Y)*he))}),Dt(),pt();var Te=Yt(),xe=a(Te),Me=a(xe),Ie=a(Me);f(()=>{e(Z),ht(()=>{})}),be(Ie,5,()=>Ve,ye,(o,g)=>{var m=At(),k=a(m,!0);t(m);var F={};f(()=>{i(k,(e(g),n(()=>e(g).label))),F!==(F=(e(g),n(()=>e(g).value)))&&(m.value=(m.__value=(e(g),n(()=>e(g).value)))??"")}),v(o,m)}),t(Ie);var Oe=s(Ie,2);f(()=>{e(N),ht(()=>{})}),be(Oe,5,()=>Ye,ye,(o,g)=>{var m=Mt(),k=a(m,!0);t(m);var F={};f(()=>{i(k,(e(g),n(()=>e(g).label))),F!==(F=(e(g),n(()=>e(g).value)))&&(m.value=(m.__value=(e(g),n(()=>e(g).value)))??"")}),v(o,m)}),t(Oe),t(Me);var Qe=s(Me,2),Pe=a(Qe);t(Qe),t(xe);var h=s(xe,2);{var W=o=>{var g=Nt();v(o,g)},J=o=>{var g=ot(),m=et(g);{var k=H=>{var G=Et(),se=s(a(G),2);{var ie=ee=>{var ve=Ut();te("click",ve,()=>{j(Z,""),j(N,"")}),v(ee,ve)};$(se,ee=>{(e(Z)||e(N))&&ee(ie)})}t(G),v(H,G)},F=H=>{var G=Ht(),se=et(G),ie=a(se),ee=a(ie),ve=a(ee),ge=a(ve),we=s(a(ge));{var T=D=>{var c=Ot(),L=a(c,!0);t(c),f(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(we,D=>{e(l)==="timestamp"&&D(T)})}t(ge);var C=s(ge,2),B=s(a(C));{var me=D=>{var c=Pt(),L=a(c,!0);t(c),f(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(B,D=>{e(l)==="domain"&&D(me)})}t(C);var q=s(C),re=s(a(q));{var je=D=>{var c=qt(),L=a(c,!0);t(c),f(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(re,D=>{e(l)==="judgment"&&D(je)})}t(q);var Q=s(q),ue=s(a(Q));{var pe=D=>{var c=Bt(),L=a(c,!0);t(c),f(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(ue,D=>{e(l)==="confidence"&&D(pe)})}t(Q),vt(),t(ve),t(ee);var De=s(ee);be(De,5,()=>e(S),D=>D.id,(D,c)=>{var L=Rt(),oe=a(L),Ue=a(oe,!0);t(oe);var ne=s(oe),Be=a(ne),Ke=a(Be);t(Be),t(ne);var $e=s(ne),Ee=a($e),de=a(Ee,!0);t(Ee),t($e);var K=s($e),X=a(K),Re=a(X,!0);t(X),t(K);var ce=s(K),_e=a(ce),fe=a(_e),le=s(fe,2),Je=a(le);t(le),t(_e),t(ce);var Le=s(ce),at=a(Le,!0);t(Le),t(L),f((ke,Fe,st,Xe)=>{i(Ue,ke),i(Ke,`${Fe??""}${e(c),n(()=>e(c).scenario.length>80?"...":"")??""}`),i(de,(e(c),n(()=>e(c).domain))),We(X,1,`judgment-badge judgment-${e(c),n(()=>e(c).judgment)??""}`,"svelte-19b8896"),i(Re,st),Ce(fe,`width: ${e(c),n(()=>e(c).confidence*100)??""}%;`),i(Je,`${Xe??""}%`),i(at,(e(c),n(()=>e(c).conflictsCount||0)))},[()=>(e(c),n(()=>V(e(c).timestamp))),()=>(e(c),n(()=>e(c).scenario.substring(0,80))),()=>(e(c),n(()=>ae(e(c).judgment))),()=>(e(c),n(()=>(e(c).confidence*100).toFixed(0)))]),te("click",L,()=>Ge(e(c))),te("keypress",L,ke=>ke.key==="Enter"&&Ge(e(c))),v(D,L)}),t(De),t(ie),t(se);var Ne=s(se,2);{var qe=D=>{var c=Ft(),L=a(c),oe=s(L,2),Ue=a(oe);t(oe);var ne=s(oe,2);t(c),f(()=>{L.disabled=e(Y)===1,i(Ue,`Page ${e(Y)??""} of ${e(u)??""}`),ne.disabled=e(Y)===e(u)}),te("click",L,()=>j(Y,Math.max(1,e(Y)-1))),te("click",ne,()=>j(Y,Math.min(e(u),e(Y)+1))),v(D,c)};$(Ne,D=>{e(u)>1&&D(qe)})}te("click",ge,()=>Ae("timestamp")),te("click",C,()=>Ae("domain")),te("click",q,()=>Ae("judgment")),te("click",Q,()=>Ae("confidence")),v(H,G)};$(m,H=>{e(P),n(()=>e(P).length===0)?H(k):H(F,!1)},!0)}v(o,g)};$(h,o=>{M()?o(W):o(J,!1)})}t(Te),f(()=>i(Pe,`Showing ${e(S),n(()=>e(S).length)??""} of ${e(P),n(()=>e(P).length)??""} deliberations`)),wt(Ie,()=>e(Z),o=>j(Z,o)),wt(Oe,()=>e(N),o=>j(N,o)),v(tt,Te),ct()}var Qt=d('<div class="empty-state svelte-y1snbd"><p>Select two deliberations to compare</p></div>'),Kt=d('<p class="status-convergent svelte-y1snbd">✓ Both deliberations reached the same judgment</p>'),Xt=d('<p class="status-divergent svelte-y1snbd">⚡ Deliberations reached different judgments</p>'),Zt=d("<span> <!></span>"),ea=d('<div class="minority-view-item svelte-y1snbd"><strong> </strong> </div>'),ta=d('<div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="minority-views svelte-y1snbd"></div></div>'),aa=d("<span> <!></span>"),sa=d('<div class="minority-view-item svelte-y1snbd"><strong> </strong> </div>'),ia=d('<div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="minority-views svelte-y1snbd"></div></div>'),ra=d('<span class="insight-badge svelte-y1snbd"> </span>'),na=d('<div class="insight-card convergence svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <p class="svelte-y1snbd">These worldviews agreed across both deliberations:</p> <div class="insight-badges svelte-y1snbd"></div></div>'),la=d('<span class="insight-badge unique-1 svelte-y1snbd"> </span>'),va=d('<span class="insight-badge unique-2 svelte-y1snbd"> </span>'),oa=d('<div class="insight-card divergence svelte-y1snbd"><h4 class="svelte-y1snbd">Divergence</h4> <p class="svelte-y1snbd"><strong>Deliberation 1 unique:</strong></p> <div class="insight-badges svelte-y1snbd"></div> <p style="margin-top: var(--spacing-sm);" class="svelte-y1snbd"><strong>Deliberation 2 unique:</strong></p> <div class="insight-badges svelte-y1snbd"></div></div>'),da=d('<p class="svelte-y1snbd">Deliberation 1 had <strong> </strong> conflicts</p>'),ca=d('<p class="svelte-y1snbd">Deliberation 2 had <strong> </strong> conflicts</p>'),pa=d('<p class="svelte-y1snbd">Both deliberations identified the <strong>same number</strong> of conflicts</p>'),ba=d('<div class="comparison-summary svelte-y1snbd"><div><h4 class="svelte-y1snbd">Judgment Agreement</h4> <!></div> <div class="summary-item svelte-y1snbd"><h4 class="svelte-y1snbd">Confidence Difference</h4> <p> </p></div> <div class="summary-item svelte-y1snbd"><h4 class="svelte-y1snbd">Worldview Alignment</h4> <p class="svelte-y1snbd"> </p></div></div> <div class="comparison-grid svelte-y1snbd"><div class="deliberation-column svelte-y1snbd"><div class="column-header svelte-y1snbd"><h3 class="svelte-y1snbd">Deliberation 1</h3> <span class="timestamp svelte-y1snbd"> </span></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Scenario</h4> <p class="scenario-preview svelte-y1snbd"> </p> <div class="meta svelte-y1snbd"><span class="domain-badge svelte-y1snbd"> </span></div></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Integrated Judgment</h4> <div class="judgment-badge svelte-y1snbd"> </div> <div class="confidence-bar-container svelte-y1snbd"><div class="confidence-bar svelte-y1snbd"></div></div> <p class="confidence-text svelte-y1snbd"> </p></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="worldview-badges svelte-y1snbd"></div></div> <!> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Tensions Identified</h4> <p class="conflict-count svelte-y1snbd"> </p></div></div> <div class="deliberation-column svelte-y1snbd"><div class="column-header svelte-y1snbd"><h3 class="svelte-y1snbd">Deliberation 2</h3> <span class="timestamp svelte-y1snbd"> </span></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Scenario</h4> <p class="scenario-preview svelte-y1snbd"> </p> <div class="meta svelte-y1snbd"><span class="domain-badge svelte-y1snbd"> </span></div></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Integrated Judgment</h4> <div class="judgment-badge svelte-y1snbd"> </div> <div class="confidence-bar-container svelte-y1snbd"><div class="confidence-bar svelte-y1snbd"></div></div> <p class="confidence-text svelte-y1snbd"> </p></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="worldview-badges svelte-y1snbd"></div></div> <!> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Tensions Identified</h4> <p class="conflict-count svelte-y1snbd"> </p></div></div></div> <div class="insights-section svelte-y1snbd"><h3 class="svelte-y1snbd">Comparative Insights</h3> <div class="insights-grid svelte-y1snbd"><!> <!> <div class="insight-card tensions svelte-y1snbd"><h4 class="svelte-y1snbd">Tension Analysis</h4> <!></div></div></div>',1),ga=d('<div class="comparison-container svelte-y1snbd"><div class="comparison-header svelte-y1snbd"><h2 class="svelte-y1snbd">Deliberation Comparison</h2> <p class="subtitle svelte-y1snbd">Side-by-side analysis illuminating differences in multi-perspectival judgments</p></div> <!></div>');function ma(tt,ze){dt(ze,!1);const P=O(),u=O(),S=O(),R=O(),M=O(),I=O();let l=lt(ze,"deliberation1",8,null),r=lt(ze,"deliberation2",8,null);const Z={permissible:"#4f46e5",impermissible:"#d97706",uncertain:"#6b7280"};function N(V){return Z[V]||Z.uncertain}function Y(V){return new Date(V).toLocaleString()}function he(V){const ae=V?.scenario?.description||"";return ae.length>120?ae.slice(0,120)+"...":ae}Se(()=>(p(l()),p(r())),()=>{j(P,l()&&r()&&l().judgment===r().judgment)}),Se(()=>(p(l()),p(r())),()=>{j(u,l()&&r()?Math.abs(l().confidence-r().confidence):0)}),Se(()=>(p(l()),p(r())),()=>{j(S,l()&&r()?l().supportingWorldviews?.filter(V=>r().supportingWorldviews?.includes(V))||[]:[])}),Se(()=>(p(l()),p(r())),()=>{j(R,l()&&r()?l().supportingWorldviews?.filter(V=>!r().supportingWorldviews?.includes(V))||[]:[])}),Se(()=>(p(l()),p(r())),()=>{j(M,l()&&r()?r().supportingWorldviews?.filter(V=>!l().supportingWorldviews?.includes(V))||[]:[])}),Se(()=>(p(l()),p(r())),()=>{j(I,l()&&r()?(l().metadata?.conflictsCount||0)-(r().metadata?.conflictsCount||0):0)}),Dt(),pt();var Ve=ga(),Ye=s(a(Ve),2);{var Ae=V=>{var ae=Qt();v(V,ae)},Ge=V=>{var ae=ba(),Te=et(ae),xe=a(Te);let Me;var Ie=s(a(xe),2);{var Oe=_=>{var b=Kt();v(_,b)},Qe=_=>{var b=Xt();v(_,b)};$(Ie,_=>{e(P)?_(Oe):_(Qe,!1)})}t(xe);var Pe=s(xe,2),h=s(a(Pe),2);let W;var J=a(h);t(h),t(Pe);var o=s(Pe,2),g=s(a(o),2),m=a(g);t(g),t(o),t(Te);var k=s(Te,2),F=a(k),H=a(F),G=s(a(H),2),se=a(G,!0);t(G),t(H);var ie=s(H,2),ee=s(a(ie),2),ve=a(ee,!0);t(ee);var ge=s(ee,2),we=a(ge),T=a(we,!0);t(we),t(ge),t(ie);var C=s(ie,2),B=s(a(C),2),me=a(B,!0);t(B);var q=s(B,2),re=a(q);t(q);var je=s(q,2),Q=a(je);t(je),t(C);var ue=s(C,2),pe=a(ue),De=a(pe);t(pe);var Ne=s(pe,2);be(Ne,5,()=>(p(l()),n(()=>l().supportingWorldviews||[])),ye,(_,b)=>{var y=Zt();let E;var z=a(y),A=s(z);{var w=x=>{var U=yt("★");v(x,U)};$(A,x=>{e(S),e(b),n(()=>e(S).includes(e(b)))&&x(w)})}t(y),f((x,U)=>{E=We(y,1,"worldview-badge svelte-y1snbd",null,E,x),Ce(y,`background: ${U??""};`),i(z,`${e(b)??""} `)},[()=>({shared:e(S).includes(e(b))}),()=>(e(S),e(b),p(l()),n(()=>e(S).includes(e(b))?"#10b981":N(l().judgment)))]),v(_,y)}),t(Ne),t(ue);var qe=s(ue,2);{var D=_=>{var b=ta(),y=a(b),E=a(y);t(y);var z=s(y,2);be(z,5,()=>(p(l()),n(()=>l().minorityViews)),ye,(A,w)=>{var x=ea(),U=a(x),He=a(U,!0);t(U);var rt=s(U);t(x),f(()=>{i(He,(e(w),n(()=>e(w).worldview))),i(rt,`: ${e(w),n(()=>e(w).judgment)??""}`)}),v(A,x)}),t(z),t(b),f(()=>i(E,`Dissenting Views (${p(l()),n(()=>l().minorityViews.length)??""})`)),v(_,b)};$(qe,_=>{p(l()),n(()=>l().minorityViews&&l().minorityViews.length>0)&&_(D)})}var c=s(qe,2),L=s(a(c),2),oe=a(L);t(L),t(c),t(F);var Ue=s(F,2),ne=a(Ue),Be=s(a(ne),2),Ke=a(Be,!0);t(Be),t(ne);var $e=s(ne,2),Ee=s(a($e),2),de=a(Ee,!0);t(Ee);var K=s(Ee,2),X=a(K),Re=a(X,!0);t(X),t(K),t($e);var ce=s($e,2),_e=s(a(ce),2),fe=a(_e,!0);t(_e);var le=s(_e,2),Je=a(le);t(le);var Le=s(le,2),at=a(Le);t(Le),t(ce);var ke=s(ce,2),Fe=a(ke),st=a(Fe);t(Fe);var Xe=s(Fe,2);be(Xe,5,()=>(p(r()),n(()=>r().supportingWorldviews||[])),ye,(_,b)=>{var y=aa();let E;var z=a(y),A=s(z);{var w=x=>{var U=yt("★");v(x,U)};$(A,x=>{e(S),e(b),n(()=>e(S).includes(e(b)))&&x(w)})}t(y),f((x,U)=>{E=We(y,1,"worldview-badge svelte-y1snbd",null,E,x),Ce(y,`background: ${U??""};`),i(z,`${e(b)??""} `)},[()=>({shared:e(S).includes(e(b))}),()=>(e(S),e(b),p(r()),n(()=>e(S).includes(e(b))?"#10b981":N(r().judgment)))]),v(_,y)}),t(Xe),t(ke);var Ze=s(ke,2);{var it=_=>{var b=ia(),y=a(b),E=a(y);t(y);var z=s(y,2);be(z,5,()=>(p(r()),n(()=>r().minorityViews)),ye,(A,w)=>{var x=sa(),U=a(x),He=a(U,!0);t(U);var rt=s(U);t(x),f(()=>{i(He,(e(w),n(()=>e(w).worldview))),i(rt,`: ${e(w),n(()=>e(w).judgment)??""}`)}),v(A,x)}),t(z),t(b),f(()=>i(E,`Dissenting Views (${p(r()),n(()=>r().minorityViews.length)??""})`)),v(_,b)};$(Ze,_=>{p(r()),n(()=>r().minorityViews&&r().minorityViews.length>0)&&_(it)})}var nt=s(Ze,2),bt=s(a(nt),2),$t=a(bt);t(bt),t(nt),t(Ue),t(k);var gt=s(k,2),mt=s(a(gt),2),ut=a(mt);{var kt=_=>{var b=na(),y=a(b),E=a(y);t(y);var z=s(y,4);be(z,5,()=>e(S),ye,(A,w)=>{var x=ra(),U=a(x,!0);t(x),f(()=>i(U,e(w))),v(A,x)}),t(z),t(b),f(()=>i(E,`Convergence (${e(S),n(()=>e(S).length)??""} worldviews)`)),v(_,b)};$(ut,_=>{e(S),n(()=>e(S).length>0)&&_(kt)})}var _t=s(ut,2);{var Ct=_=>{var b=oa(),y=s(a(b),4);be(y,5,()=>e(R),ye,(z,A)=>{var w=la(),x=a(w,!0);t(w),f(()=>i(x,e(A))),v(z,w)}),t(y);var E=s(y,4);be(E,5,()=>e(M),ye,(z,A)=>{var w=va(),x=a(w,!0);t(w),f(()=>i(x,e(A))),v(z,w)}),t(E),t(b),v(_,b)};$(_t,_=>{e(R),e(M),n(()=>e(R).length>0||e(M).length>0)&&_(Ct)})}var ft=s(_t,2),St=s(a(ft),2);{var Wt=_=>{var b=da(),y=s(a(b)),E=a(y);t(y),vt(),t(b),f(z=>i(E,`${z??""} more`),[()=>(e(I),n(()=>Math.abs(e(I))))]),v(_,b)},zt=_=>{var b=ot(),y=et(b);{var E=A=>{var w=ca(),x=s(a(w)),U=a(x);t(x),vt(),t(w),f(He=>i(U,`${He??""} more`),[()=>(e(I),n(()=>Math.abs(e(I))))]),v(A,w)},z=A=>{var w=pa();v(A,w)};$(y,A=>{e(I)<0?A(E):A(z,!1)},!0)}v(_,b)};$(St,_=>{e(I)>0?_(Wt):_(zt,!1)})}t(ft),t(mt),t(gt),f((_,b,y,E,z,A,w,x,U,He,rt,Vt,Tt)=>{Me=We(xe,1,"summary-item svelte-y1snbd",null,Me,{divergent:!e(P)}),W=We(h,1,"svelte-y1snbd",null,W,{"high-difference":e(u)>.3}),i(J,`${_??""}% difference`),i(m,`${e(S),n(()=>e(S).length)??""} shared,
					${e(R),e(M),n(()=>e(R).length+e(M).length)??""} unique`),Ce(H,`background: ${b??""};`),i(se,y),i(ve,E),i(T,(p(l()),n(()=>l().domain))),Ce(B,`background: ${z??""};`),i(me,(p(l()),n(()=>l().judgment))),Ce(re,`width: ${p(l()),n(()=>l().confidence*100)??""}%; background: ${A??""};`),i(Q,`${w??""}% confidence`),i(De,`Supporting Worldviews (${p(l()),n(()=>l().supportingWorldviews?.length||0)??""})`),i(oe,`${p(l()),n(()=>l().metadata?.conflictsCount||0)??""} conflicts`),Ce(ne,`background: ${x??""};`),i(Ke,U),i(de,He),i(Re,(p(r()),n(()=>r().domain))),Ce(_e,`background: ${rt??""};`),i(fe,(p(r()),n(()=>r().judgment))),Ce(Je,`width: ${p(r()),n(()=>r().confidence*100)??""}%; background: ${Vt??""};`),i(at,`${Tt??""}% confidence`),i(st,`Supporting Worldviews (${p(r()),n(()=>r().supportingWorldviews?.length||0)??""})`),i($t,`${p(r()),n(()=>r().metadata?.conflictsCount||0)??""} conflicts`)},[()=>(e(u),n(()=>(e(u)*100).toFixed(1))),()=>(p(l()),n(()=>N(l().judgment))),()=>(p(l()),n(()=>Y(l().timestamp))),()=>(p(l()),n(()=>he(l()))),()=>(p(l()),n(()=>N(l().judgment))),()=>(p(l()),n(()=>N(l().judgment))),()=>(p(l()),n(()=>(l().confidence*100).toFixed(0))),()=>(p(r()),n(()=>N(r().judgment))),()=>(p(r()),n(()=>Y(r().timestamp))),()=>(p(r()),n(()=>he(r()))),()=>(p(r()),n(()=>N(r().judgment))),()=>(p(r()),n(()=>N(r().judgment))),()=>(p(r()),n(()=>(r().confidence*100).toFixed(0)))]),v(V,ae)};$(Ye,V=>{!l()||!r()?V(Ae):V(Ge,!1)})}t(Ve),v(tt,Ve),ct()}var ua=d('<div style="display: flex; gap: var(--spacing-md);"><button> </button> <button class="button button-secondary">Export All as JSON</button></div>'),_a=d('<div class="card" style="text-align: center; padding: var(--spacing-2xl);"><p style="color: var(--color-text-muted);">Loading history...</p></div>'),fa=d(`<div class="card" style="text-align: center; padding: var(--spacing-2xl);"><h2 style="margin-bottom: var(--spacing-md);" class="svelte-nycj3f">No Deliberations Yet</h2> <p style="color: var(--color-text-muted); margin-bottom: var(--spacing-lg);">You haven't performed any ethical deliberations yet.
						Start by describing a scenario on the Deliberate page.</p> <a class="button">Begin Deliberation</a></div>`),ya=d('<span class="badge badge-success svelte-nycj3f"> </span>'),ha=d('<div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f"> </h3> <div class="flex gap-sm" style="flex-wrap: wrap;"></div></div>'),xa=d('<p style="color: var(--color-text-muted); font-size: var(--font-size-sm); line-height: var(--line-height-relaxed);"> </p>'),wa=d('<div style="padding: var(--spacing-md); background: var(--color-surface); border-left: 3px solid #d97706; border-radius: var(--radius-md);"><div style="margin-bottom: var(--spacing-xs);"><strong> </strong> <span class="badge badge-warning svelte-nycj3f" style="margin-left: var(--spacing-xs);"> </span></div> <!></div>'),ja=d('<div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f"> </h3> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-md);">These worldviews reached different conclusions. Their perspectives are preserved for epistemic humility.</p> <div class="flex-col gap-sm"></div></div>'),Da=d('<section id="detail-view" class="card"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-lg);"><h2 class="svelte-nycj3f">Deliberation Details</h2> <button class="button button-secondary">Close</button></div> <div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Scenario</h3> <div style="padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);"><p style="line-height: var(--line-height-relaxed);"> </p></div></div> <div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Integrated Judgment</h3> <div style="padding: var(--spacing-lg); background: var(--color-surface); border-radius: var(--radius-md);"><div style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-sm);"><span> </span></div> <div style="margin-bottom: var(--spacing-sm);"><strong>Confidence:</strong> </div> <div style="margin-bottom: var(--spacing-sm);"><strong>Domain:</strong> </div> <div><strong>Worldviews Consulted:</strong> </div></div></div> <div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Justification</h3> <div style="padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="line-height: var(--line-height-relaxed); color: var(--color-text);"> </p></div></div> <!> <!> <div style="padding-top: var(--spacing-lg); border-top: 1px solid var(--color-border);"><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); color: var(--color-text-muted); font-size: var(--font-size-sm);"><div><strong style="color: var(--color-text);">Deliberation ID:</strong><br/> <code style="font-size: var(--font-size-xs);" class="svelte-nycj3f"> </code></div> <div><strong style="color: var(--color-text);">Completed:</strong><br/> </div> <div><strong style="color: var(--color-text);">Conflicts:</strong><br/> </div></div></div> <div style="margin-top: var(--spacing-lg); display: flex; gap: var(--spacing-md); flex-wrap: wrap;"><a class="button button-secondary">New Deliberation</a> <button class="button button-secondary" style="background: var(--color-error); color: white;">Delete</button></div></section>'),$a=d('<div class="selected-preview svelte-nycj3f"><p class="svelte-nycj3f"><strong>Domain:</strong> </p> <p class="svelte-nycj3f"><strong>Judgment:</strong> <span> </span></p> <p class="svelte-nycj3f"><strong>Date:</strong> </p> <button class="button button-secondary" style="margin-top: var(--spacing-sm);">Clear</button></div>'),ka=d('<p style="color: var(--color-text-muted); font-style: italic;">Select a deliberation from the table</p>'),Ca=d('<div class="selected-preview svelte-nycj3f"><p class="svelte-nycj3f"><strong>Domain:</strong> </p> <p class="svelte-nycj3f"><strong>Judgment:</strong> <span> </span></p> <p class="svelte-nycj3f"><strong>Date:</strong> </p> <button class="button button-secondary" style="margin-top: var(--spacing-sm);">Clear</button></div>'),Sa=d('<p style="color: var(--color-text-muted); font-style: italic;">Select a deliberation from the table</p>'),Wa=d("<section><!></section>"),za=d('<section class="card"><div style="margin-bottom: var(--spacing-lg);"><h2 style="margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Select Deliberations to Compare</h2> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm);">Click on two deliberations from the table above to see a side-by-side comparison</p></div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg); margin-bottom: var(--spacing-lg);"><div><h4 class="svelte-nycj3f">Deliberation 1</h4> <!></div> <div><h4 class="svelte-nycj3f">Deliberation 2</h4> <!></div></div></section> <!>',1),Va=d('<div class="container" style="padding: var(--spacing-2xl) 0;"><header style="margin-bottom: var(--spacing-2xl);"><div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: var(--spacing-md);"><div><h1>Deliberation History</h1> <p style="color: var(--color-text-muted);">Review past ethical deliberations and their multi-perspectival analyses</p></div> <!></div></header> <main class="flex-col gap-lg"><section><!></section> <!> <!></main></div>');function Fa(tt,ze){dt(ze,!1);let P=O([]),u=O(null),S=O(!0),R=O(!1),M=O(null),I=O(null);Jt(async()=>Lt.subscribe(W=>{j(P,W.history||[]),j(S,!1)}));function l(h){e(R)?e(M)?e(I)||(j(I,h.detail),setTimeout(()=>{document.querySelector(".comparison-slot")?.scrollIntoView({behavior:"smooth"})},100)):j(M,h.detail):(j(u,h.detail),setTimeout(()=>{document.getElementById("detail-view")?.scrollIntoView({behavior:"smooth"})},100))}function r(){j(u,null)}async function Z(h){confirm("Are you sure you want to delete this deliberation?")&&console.log("Delete deliberation:",h)}async function N(){const h=JSON.stringify(e(P),null,2),W=new Blob([h],{type:"application/json"}),J=URL.createObjectURL(W),o=document.createElement("a");o.href=J,o.download=`iee-history-${new Date().toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(J)}function Y(){j(R,!e(R)),e(R)||(j(M,null),j(I,null))}pt();var he=Va(),Ve=a(he),Ye=a(Ve),Ae=s(a(Ye),2);{var Ge=h=>{var W=ua(),J=a(W);let o;var g=a(J,!0);t(J);var m=s(J,2);t(W),f(()=>{o=We(J,1,"button",null,o,{"button-secondary":!e(R)}),i(g,e(R)?"✓ Comparison Mode":"Compare Deliberations")}),te("click",J,Y),te("click",m,N),v(h,W)};$(Ae,h=>{e(P).length>0&&h(Ge)})}t(Ye),t(Ve);var V=s(Ve,2),ae=a(V),Te=a(ae);{var xe=h=>{var W=_a();v(h,W)},Me=h=>{var W=ot(),J=et(W);{var o=m=>{var k=fa(),F=s(a(k),4);t(k),f(()=>xt(F,"href",`${jt??""}/deliberate`)),v(m,k)},g=m=>{Gt(m,{get history(){return e(P)},$$events:{select:l}})};$(J,m=>{e(P).length===0?m(o):m(g,!1)},!0)}v(h,W)};$(Te,h=>{e(S)?h(xe):h(Me,!1)})}t(ae);var Ie=s(ae,2);{var Oe=h=>{var W=Da(),J=a(W),o=s(a(J),2);t(J);var g=s(J,2),m=s(a(g),2),k=a(m),F=a(k,!0);t(k),t(m),t(g);var H=s(g,2),G=s(a(H),2),se=a(G),ie=a(se),ee=a(ie,!0);t(ie),t(se);var ve=s(se,2),ge=s(a(ve));t(ve);var we=s(ve,2),T=s(a(we));t(we);var C=s(we,2),B=s(a(C));t(C),t(G),t(H);var me=s(H,2),q=s(a(me),2),re=a(q),je=a(re,!0);t(re),t(q),t(me);var Q=s(me,2);{var ue=de=>{var K=ha(),X=a(K),Re=a(X);t(X);var ce=s(X,2);be(ce,5,()=>e(u).supportingWorldviews,ye,(_e,fe)=>{var le=ya(),Je=a(le,!0);t(le),f(()=>i(Je,e(fe))),v(_e,le)}),t(ce),t(K),f(()=>i(Re,`Supporting Worldviews (${e(u).supportingWorldviews.length??""})`)),v(de,K)};$(Q,de=>{e(u).supportingWorldviews&&e(u).supportingWorldviews.length>0&&de(ue)})}var pe=s(Q,2);{var De=de=>{var K=ja(),X=a(K),Re=a(X);t(X);var ce=s(X,4);be(ce,5,()=>e(u).minorityViews,ye,(_e,fe)=>{var le=wa(),Je=a(le),Le=a(Je),at=a(Le);t(Le);var ke=s(Le,2),Fe=a(ke,!0);t(ke),t(Je);var st=s(Je,2);{var Xe=Ze=>{var it=xa(),nt=a(it,!0);t(it),f(()=>i(nt,e(fe).reasoning)),v(Ze,it)};$(st,Ze=>{e(fe).reasoning&&Ze(Xe)})}t(le),f(()=>{i(at,`${e(fe).worldview??""}:`),i(Fe,e(fe).judgment)}),v(_e,le)}),t(ce),t(K),f(()=>i(Re,`Dissenting Perspectives (${e(u).minorityViews.length??""})`)),v(de,K)};$(pe,de=>{e(u).minorityViews&&e(u).minorityViews.length>0&&de(De)})}var Ne=s(pe,2),qe=a(Ne),D=a(qe),c=s(a(D),3),L=a(c,!0);t(c),t(D);var oe=s(D,2),Ue=s(a(oe),2);t(oe);var ne=s(oe,2),Be=s(a(ne),2);t(ne),t(qe),t(Ne);var Ke=s(Ne,2),$e=a(Ke),Ee=s($e,2);t(Ke),t(W),f((de,K,X)=>{i(F,e(u).scenario?.description||"No description available"),Ce(ie,`color: ${e(u).judgment==="permissible"?"#4f46e5":e(u).judgment==="impermissible"?"#d97706":"#6b7280"};`),i(ee,de),i(ge,` ${K??""}%
							(${(e(u).confidenceLevel||"unknown")??""})`),i(T,` ${(e(u).domain||"unknown")??""}`),i(B,` ${(e(u).metadata?.evaluationsCount||e(u).worldviews?.length||0)??""}`),i(je,e(u).justification||"No justification available"),i(L,e(u).id),i(Ue,` ${X??""}`),i(Be,` ${(e(u).metadata?.conflictsCount||0)??""}`),xt($e,"href",`${jt??""}/deliberate`)},[()=>e(u).judgment?.toUpperCase()||"UNCERTAIN",()=>((e(u).confidence||0)*100).toFixed(0),()=>new Date(e(u).timestamp).toLocaleString()]),te("click",o,r),te("click",Ee,()=>Z(e(u).id)),v(h,W)};$(Ie,h=>{e(u)&&h(Oe)})}var Qe=s(Ie,2);{var Pe=h=>{var W=za(),J=et(W),o=s(a(J),2),g=a(o);let m;var k=s(a(g),2);{var F=T=>{var C=$a(),B=a(C),me=s(a(B));t(B);var q=s(B,2),re=s(a(q),2),je=a(re,!0);t(re),t(q);var Q=s(q,2),ue=s(a(Q));t(Q);var pe=s(Q,2);t(C),f(De=>{i(me,` ${e(M).domain??""}`),We(re,1,`badge badge-${e(M).judgment??""}`,"svelte-nycj3f"),i(je,e(M).judgment),i(ue,` ${De??""}`)},[()=>new Date(e(M).timestamp).toLocaleDateString()]),te("click",pe,()=>j(M,null)),v(T,C)},H=T=>{var C=ka();v(T,C)};$(k,T=>{e(M)?T(F):T(H,!1)})}t(g);var G=s(g,2);let se;var ie=s(a(G),2);{var ee=T=>{var C=Ca(),B=a(C),me=s(a(B));t(B);var q=s(B,2),re=s(a(q),2),je=a(re,!0);t(re),t(q);var Q=s(q,2),ue=s(a(Q));t(Q);var pe=s(Q,2);t(C),f(De=>{i(me,` ${e(I).domain??""}`),We(re,1,`badge badge-${e(I).judgment??""}`,"svelte-nycj3f"),i(je,e(I).judgment),i(ue,` ${De??""}`)},[()=>new Date(e(I).timestamp).toLocaleDateString()]),te("click",pe,()=>j(I,null)),v(T,C)},ve=T=>{var C=Sa();v(T,C)};$(ie,T=>{e(I)?T(ee):T(ve,!1)})}t(G),t(o),t(J);var ge=s(J,2);{var we=T=>{var C=Wa(),B=a(C);ma(B,{get deliberation1(){return e(M)},get deliberation2(){return e(I)}}),t(C),v(T,C)};$(ge,T=>{e(M)&&e(I)&&T(we)})}f(()=>{m=We(g,1,"comparison-slot svelte-nycj3f",null,m,{selected:e(M)}),se=We(G,1,"comparison-slot svelte-nycj3f",null,se,{selected:e(I)})}),v(h,W)};$(Qe,h=>{e(R)&&h(Pe)})}t(V),t(he),v(tt,he),ct()}export{Fa as component};
