import{f as d,b as v,c as vt,t as yt}from"./MFRMx3eT.js";import"./MI5pQehl.js";import{c as Vt,o as Tt}from"./C2HaRx2w.js";import{aO as ot,b0 as Ce,D as j,v as e,C as O,w as p,b1 as wt,aV as a,aY as y,b3 as ht,aW as t,u as n,aU as s,aQ as dt,aT as tt,aC as lt}from"./BKIGzYeV.js";import{s as i,e as te}from"./8l2V8yXD.js";import{i as $}from"./DHZ_poO4.js";import{e as ge,i as ye,s as ke}from"./2HVRzNst.js";import{b as xt,s as Se}from"./THl8BpcV.js";import{i as ct}from"./BbwoQR9O.js";import{s as It}from"./DUWU6N3z.js";import"./B0-zVcZI.js";import{p as rt}from"./Bw8-_Lx_.js";var Jt=d("<option> </option>"),Lt=d("<option> </option>"),At=d('<div class="loading-state svelte-19b8896"><p>Loading history...</p></div>'),Mt=d('<button class="button button-secondary">Clear Filters</button>'),Nt=d('<div class="empty-state svelte-19b8896"><p>No deliberations found</p> <!></div>'),Ut=d('<span class="sort-indicator svelte-19b8896"> </span>'),Et=d('<span class="sort-indicator svelte-19b8896"> </span>'),Ot=d('<span class="sort-indicator svelte-19b8896"> </span>'),Pt=d('<span class="sort-indicator svelte-19b8896"> </span>'),qt=d('<tr class="history-row svelte-19b8896" tabindex="0" role="button"><td class="timestamp-cell svelte-19b8896"> </td><td class="scenario-cell svelte-19b8896"><span class="scenario-preview svelte-19b8896"> </span></td><td class="svelte-19b8896"><span class="domain-badge svelte-19b8896"> </span></td><td class="svelte-19b8896"><span> </span></td><td class="svelte-19b8896"><div class="confidence-bar-container svelte-19b8896"><div class="confidence-bar svelte-19b8896"></div> <span class="confidence-text svelte-19b8896"> </span></div></td><td class="conflicts-cell svelte-19b8896"> </td></tr>'),Bt=d('<div class="pagination svelte-19b8896"><button class="pagination-button svelte-19b8896">← Previous</button> <span class="page-indicator svelte-19b8896"> </span> <button class="pagination-button svelte-19b8896">Next →</button></div>'),Rt=d('<div class="table-wrapper svelte-19b8896"><table class="history-table svelte-19b8896"><thead class="svelte-19b8896"><tr><th class="sortable svelte-19b8896">Date <!></th><th class="scenario-column svelte-19b8896">Scenario</th><th class="sortable svelte-19b8896">Domain <!></th><th class="sortable svelte-19b8896">Judgment <!></th><th class="sortable svelte-19b8896">Confidence <!></th><th class="svelte-19b8896">Conflicts</th></tr></thead><tbody></tbody></table></div> <!>',1),Ft=d('<div class="history-table-container svelte-19b8896"><div class="controls-bar svelte-19b8896"><div class="filters svelte-19b8896"><select class="svelte-19b8896"></select> <select class="svelte-19b8896"></select></div> <div class="stats svelte-19b8896"> </div></div> <!></div>');function Ht(at,We){ot(We,!1);const P=O(),u=O(),C=O();let R=rt(We,"history",24,()=>[]),M=rt(We,"loading",8,!1);const I=Vt();let l=O("timestamp"),r=O("desc"),X=O(""),N=O(""),H=O(1),he=10;const ze=[{value:"",label:"All Domains"},{value:"healthcare",label:"Healthcare"},{value:"spiritual",label:"Spiritual"},{value:"education",label:"Education"},{value:"vocational",label:"Vocational"},{value:"environmental",label:"Environmental"},{value:"interpersonal",label:"Interpersonal"},{value:"intellectual",label:"Intellectual"},{value:"general",label:"General"}],Ge=[{value:"",label:"All Judgments"},{value:"permissible",label:"Permissible"},{value:"impermissible",label:"Impermissible"},{value:"uncertain",label:"Uncertain"}];function Ae(o){e(l)===o?j(r,e(r)==="asc"?"desc":"asc"):(j(l,o),j(r,"desc"))}function Qe(o){I("select",o)}function V(o){return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ae(o){return o.charAt(0).toUpperCase()+o.slice(1)}Ce(()=>(p(R()),e(X),e(N),e(l),e(r)),()=>{j(P,R().filter(o=>!(e(X)&&o.domain!==e(X)||e(N)&&o.judgment!==e(N))).sort((o,g)=>{let m,S;switch(e(l)){case"timestamp":m=new Date(o.timestamp).getTime(),S=new Date(g.timestamp).getTime();break;case"domain":m=o.domain,S=g.domain;break;case"judgment":m=o.judgment,S=g.judgment;break;case"confidence":m=o.confidence,S=g.confidence;break;default:m=new Date(o.timestamp).getTime(),S=new Date(g.timestamp).getTime()}return e(r)==="asc"?m>S?1:m<S?-1:0:m<S?1:m>S?-1:0}))}),Ce(()=>e(P),()=>{j(u,Math.ceil(e(P).length/he))}),Ce(()=>(e(X),e(N)),()=>{(e(X)||e(N))&&j(H,1)}),Ce(()=>(e(P),e(H)),()=>{j(C,e(P).slice((e(H)-1)*he,e(H)*he))}),wt(),ct();var Ve=Ft(),xe=a(Ve),Me=a(xe),Te=a(Me);y(()=>{e(X),ht(()=>{})}),ge(Te,5,()=>ze,ye,(o,g)=>{var m=Jt(),S=a(m,!0);t(m);var Z={};y(()=>{i(S,(e(g),n(()=>e(g).label))),Z!==(Z=(e(g),n(()=>e(g).value)))&&(m.value=(m.__value=(e(g),n(()=>e(g).value)))??"")}),v(o,m)}),t(Te);var Oe=s(Te,2);y(()=>{e(N),ht(()=>{})}),ge(Oe,5,()=>Ge,ye,(o,g)=>{var m=Lt(),S=a(m,!0);t(m);var Z={};y(()=>{i(S,(e(g),n(()=>e(g).label))),Z!==(Z=(e(g),n(()=>e(g).value)))&&(m.value=(m.__value=(e(g),n(()=>e(g).value)))??"")}),v(o,m)}),t(Oe),t(Me);var Ke=s(Me,2),Pe=a(Ke);t(Ke),t(xe);var h=s(xe,2);{var W=o=>{var g=At();v(o,g)},J=o=>{var g=vt(),m=tt(g);{var S=F=>{var Y=Nt(),se=s(a(Y),2);{var ie=ee=>{var ve=Mt();te("click",ve,()=>{j(X,""),j(N,"")}),v(ee,ve)};$(se,ee=>{(e(X)||e(N))&&ee(ie)})}t(Y),v(F,Y)},Z=F=>{var Y=Rt(),se=tt(Y),ie=a(se),ee=a(ie),ve=a(ee),me=a(ve),we=s(a(me));{var T=D=>{var c=Ut(),L=a(c,!0);t(c),y(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(we,D=>{e(l)==="timestamp"&&D(T)})}t(me);var k=s(me,2),B=s(a(k));{var ue=D=>{var c=Et(),L=a(c,!0);t(c),y(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(B,D=>{e(l)==="domain"&&D(ue)})}t(k);var q=s(k),re=s(a(q));{var je=D=>{var c=Ot(),L=a(c,!0);t(c),y(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(re,D=>{e(l)==="judgment"&&D(je)})}t(q);var G=s(q),_e=s(a(G));{var ce=D=>{var c=Pt(),L=a(c,!0);t(c),y(()=>i(L,e(r)==="asc"?"▲":"▼")),v(D,c)};$(_e,D=>{e(l)==="confidence"&&D(ce)})}t(G),lt(),t(ve),t(ee);var De=s(ee);ge(De,5,()=>e(C),D=>D.id,(D,c)=>{var L=qt(),oe=a(L),Ue=a(oe,!0);t(oe);var ne=s(oe),Be=a(ne),Xe=a(Be);t(Be),t(ne);var Ie=s(ne),Q=a(Ie),de=a(Q,!0);t(Q),t(Ie);var K=s(Ie),$e=a(K),Je=a($e,!0);t($e),t(K);var fe=s(K),le=a(fe),pe=a(le),be=s(pe,2),Re=a(be);t(be),t(le),t(fe);var Fe=s(fe),Ze=a(Fe,!0);t(Fe),t(L),y((Le,He,st,Ee)=>{i(Ue,Le),i(Xe,`${He??""}${e(c),n(()=>e(c).scenario.length>80?"...":"")??""}`),i(de,(e(c),n(()=>e(c).domain))),Se($e,1,`judgment-badge judgment-${e(c),n(()=>e(c).judgment)??""}`,"svelte-19b8896"),i(Je,st),ke(pe,`width: ${e(c),n(()=>e(c).confidence*100)??""}%;`),i(Re,`${Ee??""}%`),i(Ze,(e(c),n(()=>e(c).conflictsCount||0)))},[()=>(e(c),n(()=>V(e(c).timestamp))),()=>(e(c),n(()=>e(c).scenario.substring(0,80))),()=>(e(c),n(()=>ae(e(c).judgment))),()=>(e(c),n(()=>(e(c).confidence*100).toFixed(0)))]),te("click",L,()=>Qe(e(c))),te("keypress",L,Le=>Le.key==="Enter"&&Qe(e(c))),v(D,L)}),t(De),t(ie),t(se);var Ne=s(se,2);{var qe=D=>{var c=Bt(),L=a(c),oe=s(L,2),Ue=a(oe);t(oe);var ne=s(oe,2);t(c),y(()=>{L.disabled=e(H)===1,i(Ue,`Page ${e(H)??""} of ${e(u)??""}`),ne.disabled=e(H)===e(u)}),te("click",L,()=>j(H,Math.max(1,e(H)-1))),te("click",ne,()=>j(H,Math.min(e(u),e(H)+1))),v(D,c)};$(Ne,D=>{e(u)>1&&D(qe)})}te("click",me,()=>Ae("timestamp")),te("click",k,()=>Ae("domain")),te("click",q,()=>Ae("judgment")),te("click",G,()=>Ae("confidence")),v(F,Y)};$(m,F=>{e(P),n(()=>e(P).length===0)?F(S):F(Z,!1)},!0)}v(o,g)};$(h,o=>{M()?o(W):o(J,!1)})}t(Ve),y(()=>i(Pe,`Showing ${e(C),n(()=>e(C).length)??""} of ${e(P),n(()=>e(P).length)??""} deliberations`)),xt(Te,()=>e(X),o=>j(X,o)),xt(Oe,()=>e(N),o=>j(N,o)),v(at,Ve),dt()}var Yt=d('<div class="empty-state svelte-y1snbd"><p>Select two deliberations to compare</p></div>'),Gt=d('<p class="status-convergent svelte-y1snbd">✓ Both deliberations reached the same judgment</p>'),Qt=d('<p class="status-divergent svelte-y1snbd">⚡ Deliberations reached different judgments</p>'),Kt=d("<span> <!></span>"),Xt=d('<div class="minority-view-item svelte-y1snbd"><strong> </strong> </div>'),Zt=d('<div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="minority-views svelte-y1snbd"></div></div>'),ea=d("<span> <!></span>"),ta=d('<div class="minority-view-item svelte-y1snbd"><strong> </strong> </div>'),aa=d('<div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="minority-views svelte-y1snbd"></div></div>'),sa=d('<span class="insight-badge svelte-y1snbd"> </span>'),ia=d('<div class="insight-card convergence svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <p class="svelte-y1snbd">These worldviews agreed across both deliberations:</p> <div class="insight-badges svelte-y1snbd"></div></div>'),ra=d('<span class="insight-badge unique-1 svelte-y1snbd"> </span>'),na=d('<span class="insight-badge unique-2 svelte-y1snbd"> </span>'),la=d('<div class="insight-card divergence svelte-y1snbd"><h4 class="svelte-y1snbd">Divergence</h4> <p class="svelte-y1snbd"><strong>Deliberation 1 unique:</strong></p> <div class="insight-badges svelte-y1snbd"></div> <p style="margin-top: var(--spacing-sm);" class="svelte-y1snbd"><strong>Deliberation 2 unique:</strong></p> <div class="insight-badges svelte-y1snbd"></div></div>'),va=d('<p class="svelte-y1snbd">Deliberation 1 had <strong> </strong> conflicts</p>'),oa=d('<p class="svelte-y1snbd">Deliberation 2 had <strong> </strong> conflicts</p>'),da=d('<p class="svelte-y1snbd">Both deliberations identified the <strong>same number</strong> of conflicts</p>'),ca=d('<div class="comparison-summary svelte-y1snbd"><div><h4 class="svelte-y1snbd">Judgment Agreement</h4> <!></div> <div class="summary-item svelte-y1snbd"><h4 class="svelte-y1snbd">Confidence Difference</h4> <p> </p></div> <div class="summary-item svelte-y1snbd"><h4 class="svelte-y1snbd">Worldview Alignment</h4> <p class="svelte-y1snbd"> </p></div></div> <div class="comparison-grid svelte-y1snbd"><div class="deliberation-column svelte-y1snbd"><div class="column-header svelte-y1snbd"><h3 class="svelte-y1snbd">Deliberation 1</h3> <span class="timestamp svelte-y1snbd"> </span></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Scenario</h4> <p class="scenario-preview svelte-y1snbd"> </p> <div class="meta svelte-y1snbd"><span class="domain-badge svelte-y1snbd"> </span></div></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Integrated Judgment</h4> <div class="judgment-badge svelte-y1snbd"> </div> <div class="confidence-bar-container svelte-y1snbd"><div class="confidence-bar svelte-y1snbd"></div></div> <p class="confidence-text svelte-y1snbd"> </p></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="worldview-badges svelte-y1snbd"></div></div> <!> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Tensions Identified</h4> <p class="conflict-count svelte-y1snbd"> </p></div></div> <div class="deliberation-column svelte-y1snbd"><div class="column-header svelte-y1snbd"><h3 class="svelte-y1snbd">Deliberation 2</h3> <span class="timestamp svelte-y1snbd"> </span></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Scenario</h4> <p class="scenario-preview svelte-y1snbd"> </p> <div class="meta svelte-y1snbd"><span class="domain-badge svelte-y1snbd"> </span></div></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Integrated Judgment</h4> <div class="judgment-badge svelte-y1snbd"> </div> <div class="confidence-bar-container svelte-y1snbd"><div class="confidence-bar svelte-y1snbd"></div></div> <p class="confidence-text svelte-y1snbd"> </p></div> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd"> </h4> <div class="worldview-badges svelte-y1snbd"></div></div> <!> <div class="section svelte-y1snbd"><h4 class="svelte-y1snbd">Tensions Identified</h4> <p class="conflict-count svelte-y1snbd"> </p></div></div></div> <div class="insights-section svelte-y1snbd"><h3 class="svelte-y1snbd">Comparative Insights</h3> <div class="insights-grid svelte-y1snbd"><!> <!> <div class="insight-card tensions svelte-y1snbd"><h4 class="svelte-y1snbd">Tension Analysis</h4> <!></div></div></div>',1),pa=d('<div class="comparison-container svelte-y1snbd"><div class="comparison-header svelte-y1snbd"><h2 class="svelte-y1snbd">Deliberation Comparison</h2> <p class="subtitle svelte-y1snbd">Side-by-side analysis illuminating differences in multi-perspectival judgments</p></div> <!></div>');function ba(at,We){ot(We,!1);const P=O(),u=O(),C=O(),R=O(),M=O(),I=O();let l=rt(We,"deliberation1",8,null),r=rt(We,"deliberation2",8,null);const X={permissible:"#4f46e5",impermissible:"#d97706",uncertain:"#6b7280"};function N(V){return X[V]||X.uncertain}function H(V){return new Date(V).toLocaleString()}function he(V){const ae=V?.scenario?.description||"";return ae.length>120?ae.slice(0,120)+"...":ae}Ce(()=>(p(l()),p(r())),()=>{j(P,l()&&r()&&l().judgment===r().judgment)}),Ce(()=>(p(l()),p(r())),()=>{j(u,l()&&r()?Math.abs(l().confidence-r().confidence):0)}),Ce(()=>(p(l()),p(r())),()=>{j(C,l()&&r()?l().supportingWorldviews?.filter(V=>r().supportingWorldviews?.includes(V))||[]:[])}),Ce(()=>(p(l()),p(r())),()=>{j(R,l()&&r()?l().supportingWorldviews?.filter(V=>!r().supportingWorldviews?.includes(V))||[]:[])}),Ce(()=>(p(l()),p(r())),()=>{j(M,l()&&r()?r().supportingWorldviews?.filter(V=>!l().supportingWorldviews?.includes(V))||[]:[])}),Ce(()=>(p(l()),p(r())),()=>{j(I,l()&&r()?(l().metadata?.conflictsCount||0)-(r().metadata?.conflictsCount||0):0)}),wt(),ct();var ze=pa(),Ge=s(a(ze),2);{var Ae=V=>{var ae=Yt();v(V,ae)},Qe=V=>{var ae=ca(),Ve=tt(ae),xe=a(Ve);let Me;var Te=s(a(xe),2);{var Oe=_=>{var b=Gt();v(_,b)},Ke=_=>{var b=Qt();v(_,b)};$(Te,_=>{e(P)?_(Oe):_(Ke,!1)})}t(xe);var Pe=s(xe,2),h=s(a(Pe),2);let W;var J=a(h);t(h),t(Pe);var o=s(Pe,2),g=s(a(o),2),m=a(g);t(g),t(o),t(Ve);var S=s(Ve,2),Z=a(S),F=a(Z),Y=s(a(F),2),se=a(Y,!0);t(Y),t(F);var ie=s(F,2),ee=s(a(ie),2),ve=a(ee,!0);t(ee);var me=s(ee,2),we=a(me),T=a(we,!0);t(we),t(me),t(ie);var k=s(ie,2),B=s(a(k),2),ue=a(B,!0);t(B);var q=s(B,2),re=a(q);t(q);var je=s(q,2),G=a(je);t(je),t(k);var _e=s(k,2),ce=a(_e),De=a(ce);t(ce);var Ne=s(ce,2);ge(Ne,5,()=>(p(l()),n(()=>l().supportingWorldviews||[])),ye,(_,b)=>{var f=Kt();let E;var z=a(f),A=s(z);{var w=x=>{var U=yt("★");v(x,U)};$(A,x=>{e(C),e(b),n(()=>e(C).includes(e(b)))&&x(w)})}t(f),y((x,U)=>{E=Se(f,1,"worldview-badge svelte-y1snbd",null,E,x),ke(f,`background: ${U??""};`),i(z,`${e(b)??""} `)},[()=>({shared:e(C).includes(e(b))}),()=>(e(C),e(b),p(l()),n(()=>e(C).includes(e(b))?"#10b981":N(l().judgment)))]),v(_,f)}),t(Ne),t(_e);var qe=s(_e,2);{var D=_=>{var b=Zt(),f=a(b),E=a(f);t(f);var z=s(f,2);ge(z,5,()=>(p(l()),n(()=>l().minorityViews)),ye,(A,w)=>{var x=Xt(),U=a(x),Ye=a(U,!0);t(U);var it=s(U);t(x),y(()=>{i(Ye,(e(w),n(()=>e(w).worldview))),i(it,`: ${e(w),n(()=>e(w).judgment)??""}`)}),v(A,x)}),t(z),t(b),y(()=>i(E,`Dissenting Views (${p(l()),n(()=>l().minorityViews.length)??""})`)),v(_,b)};$(qe,_=>{p(l()),n(()=>l().minorityViews&&l().minorityViews.length>0)&&_(D)})}var c=s(qe,2),L=s(a(c),2),oe=a(L);t(L),t(c),t(Z);var Ue=s(Z,2),ne=a(Ue),Be=s(a(ne),2),Xe=a(Be,!0);t(Be),t(ne);var Ie=s(ne,2),Q=s(a(Ie),2),de=a(Q,!0);t(Q);var K=s(Q,2),$e=a(K),Je=a($e,!0);t($e),t(K),t(Ie);var fe=s(Ie,2),le=s(a(fe),2),pe=a(le,!0);t(le);var be=s(le,2),Re=a(be);t(be);var Fe=s(be,2),Ze=a(Fe);t(Fe),t(fe);var Le=s(fe,2),He=a(Le),st=a(He);t(He);var Ee=s(He,2);ge(Ee,5,()=>(p(r()),n(()=>r().supportingWorldviews||[])),ye,(_,b)=>{var f=ea();let E;var z=a(f),A=s(z);{var w=x=>{var U=yt("★");v(x,U)};$(A,x=>{e(C),e(b),n(()=>e(C).includes(e(b)))&&x(w)})}t(f),y((x,U)=>{E=Se(f,1,"worldview-badge svelte-y1snbd",null,E,x),ke(f,`background: ${U??""};`),i(z,`${e(b)??""} `)},[()=>({shared:e(C).includes(e(b))}),()=>(e(C),e(b),p(r()),n(()=>e(C).includes(e(b))?"#10b981":N(r().judgment)))]),v(_,f)}),t(Ee),t(Le);var et=s(Le,2);{var nt=_=>{var b=aa(),f=a(b),E=a(f);t(f);var z=s(f,2);ge(z,5,()=>(p(r()),n(()=>r().minorityViews)),ye,(A,w)=>{var x=ta(),U=a(x),Ye=a(U,!0);t(U);var it=s(U);t(x),y(()=>{i(Ye,(e(w),n(()=>e(w).worldview))),i(it,`: ${e(w),n(()=>e(w).judgment)??""}`)}),v(A,x)}),t(z),t(b),y(()=>i(E,`Dissenting Views (${p(r()),n(()=>r().minorityViews.length)??""})`)),v(_,b)};$(et,_=>{p(r()),n(()=>r().minorityViews&&r().minorityViews.length>0)&&_(nt)})}var pt=s(et,2),bt=s(a(pt),2),jt=a(bt);t(bt),t(pt),t(Ue),t(S);var gt=s(S,2),mt=s(a(gt),2),ut=a(mt);{var Dt=_=>{var b=ia(),f=a(b),E=a(f);t(f);var z=s(f,4);ge(z,5,()=>e(C),ye,(A,w)=>{var x=sa(),U=a(x,!0);t(x),y(()=>i(U,e(w))),v(A,x)}),t(z),t(b),y(()=>i(E,`Convergence (${e(C),n(()=>e(C).length)??""} worldviews)`)),v(_,b)};$(ut,_=>{e(C),n(()=>e(C).length>0)&&_(Dt)})}var _t=s(ut,2);{var $t=_=>{var b=la(),f=s(a(b),4);ge(f,5,()=>e(R),ye,(z,A)=>{var w=ra(),x=a(w,!0);t(w),y(()=>i(x,e(A))),v(z,w)}),t(f);var E=s(f,4);ge(E,5,()=>e(M),ye,(z,A)=>{var w=na(),x=a(w,!0);t(w),y(()=>i(x,e(A))),v(z,w)}),t(E),t(b),v(_,b)};$(_t,_=>{e(R),e(M),n(()=>e(R).length>0||e(M).length>0)&&_($t)})}var ft=s(_t,2),kt=s(a(ft),2);{var Ct=_=>{var b=va(),f=s(a(b)),E=a(f);t(f),lt(),t(b),y(z=>i(E,`${z??""} more`),[()=>(e(I),n(()=>Math.abs(e(I))))]),v(_,b)},St=_=>{var b=vt(),f=tt(b);{var E=A=>{var w=oa(),x=s(a(w)),U=a(x);t(x),lt(),t(w),y(Ye=>i(U,`${Ye??""} more`),[()=>(e(I),n(()=>Math.abs(e(I))))]),v(A,w)},z=A=>{var w=da();v(A,w)};$(f,A=>{e(I)<0?A(E):A(z,!1)},!0)}v(_,b)};$(kt,_=>{e(I)>0?_(Ct):_(St,!1)})}t(ft),t(mt),t(gt),y((_,b,f,E,z,A,w,x,U,Ye,it,Wt,zt)=>{Me=Se(xe,1,"summary-item svelte-y1snbd",null,Me,{divergent:!e(P)}),W=Se(h,1,"svelte-y1snbd",null,W,{"high-difference":e(u)>.3}),i(J,`${_??""}% difference`),i(m,`${e(C),n(()=>e(C).length)??""} shared,
					${e(R),e(M),n(()=>e(R).length+e(M).length)??""} unique`),ke(F,`background: ${b??""};`),i(se,f),i(ve,E),i(T,(p(l()),n(()=>l().domain))),ke(B,`background: ${z??""};`),i(ue,(p(l()),n(()=>l().judgment))),ke(re,`width: ${p(l()),n(()=>l().confidence*100)??""}%; background: ${A??""};`),i(G,`${w??""}% confidence`),i(De,`Supporting Worldviews (${p(l()),n(()=>l().supportingWorldviews?.length||0)??""})`),i(oe,`${p(l()),n(()=>l().metadata?.conflictsCount||0)??""} conflicts`),ke(ne,`background: ${x??""};`),i(Xe,U),i(de,Ye),i(Je,(p(r()),n(()=>r().domain))),ke(le,`background: ${it??""};`),i(pe,(p(r()),n(()=>r().judgment))),ke(Re,`width: ${p(r()),n(()=>r().confidence*100)??""}%; background: ${Wt??""};`),i(Ze,`${zt??""}% confidence`),i(st,`Supporting Worldviews (${p(r()),n(()=>r().supportingWorldviews?.length||0)??""})`),i(jt,`${p(r()),n(()=>r().metadata?.conflictsCount||0)??""} conflicts`)},[()=>(e(u),n(()=>(e(u)*100).toFixed(1))),()=>(p(l()),n(()=>N(l().judgment))),()=>(p(l()),n(()=>H(l().timestamp))),()=>(p(l()),n(()=>he(l()))),()=>(p(l()),n(()=>N(l().judgment))),()=>(p(l()),n(()=>N(l().judgment))),()=>(p(l()),n(()=>(l().confidence*100).toFixed(0))),()=>(p(r()),n(()=>N(r().judgment))),()=>(p(r()),n(()=>H(r().timestamp))),()=>(p(r()),n(()=>he(r()))),()=>(p(r()),n(()=>N(r().judgment))),()=>(p(r()),n(()=>N(r().judgment))),()=>(p(r()),n(()=>(r().confidence*100).toFixed(0)))]),v(V,ae)};$(Ge,V=>{!l()||!r()?V(Ae):V(Qe,!1)})}t(ze),v(at,ze),dt()}var ga=d('<div style="display: flex; gap: var(--spacing-md);"><button> </button> <button class="button button-secondary">Export All as JSON</button></div>'),ma=d('<div class="card" style="text-align: center; padding: var(--spacing-2xl);"><p style="color: var(--color-text-muted);">Loading history...</p></div>'),ua=d(`<div class="card" style="text-align: center; padding: var(--spacing-2xl);"><h2 style="margin-bottom: var(--spacing-md);" class="svelte-nycj3f">No Deliberations Yet</h2> <p style="color: var(--color-text-muted); margin-bottom: var(--spacing-lg);">You haven't performed any ethical deliberations yet.
						Start by describing a scenario on the Deliberate page.</p> <a href="/deliberate" class="button">Begin Deliberation</a></div>`),_a=d('<span class="badge badge-success svelte-nycj3f"> </span>'),fa=d('<div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f"> </h3> <div class="flex gap-sm" style="flex-wrap: wrap;"></div></div>'),ya=d('<p style="color: var(--color-text-muted); font-size: var(--font-size-sm); line-height: var(--line-height-relaxed);"> </p>'),ha=d('<div style="padding: var(--spacing-md); background: var(--color-surface); border-left: 3px solid #d97706; border-radius: var(--radius-md);"><div style="margin-bottom: var(--spacing-xs);"><strong> </strong> <span class="badge badge-warning svelte-nycj3f" style="margin-left: var(--spacing-xs);"> </span></div> <!></div>'),xa=d('<div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f"> </h3> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-md);">These worldviews reached different conclusions. Their perspectives are preserved for epistemic humility.</p> <div class="flex-col gap-sm"></div></div>'),wa=d('<section id="detail-view" class="card"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-lg);"><h2 class="svelte-nycj3f">Deliberation Details</h2> <button class="button button-secondary">Close</button></div> <div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Scenario</h3> <div style="padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);"><p style="line-height: var(--line-height-relaxed);"> </p></div></div> <div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Integrated Judgment</h3> <div style="padding: var(--spacing-lg); background: var(--color-surface); border-radius: var(--radius-md);"><div style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-sm);"><span> </span></div> <div style="margin-bottom: var(--spacing-sm);"><strong>Confidence:</strong> </div> <div style="margin-bottom: var(--spacing-sm);"><strong>Domain:</strong> </div> <div><strong>Worldviews Consulted:</strong> </div></div></div> <div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Justification</h3> <div style="padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="line-height: var(--line-height-relaxed); color: var(--color-text);"> </p></div></div> <!> <!> <div style="padding-top: var(--spacing-lg); border-top: 1px solid var(--color-border);"><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); color: var(--color-text-muted); font-size: var(--font-size-sm);"><div><strong style="color: var(--color-text);">Deliberation ID:</strong><br/> <code style="font-size: var(--font-size-xs);" class="svelte-nycj3f"> </code></div> <div><strong style="color: var(--color-text);">Completed:</strong><br/> </div> <div><strong style="color: var(--color-text);">Conflicts:</strong><br/> </div></div></div> <div style="margin-top: var(--spacing-lg); display: flex; gap: var(--spacing-md); flex-wrap: wrap;"><a href="/deliberate" class="button button-secondary">New Deliberation</a> <button class="button button-secondary" style="background: var(--color-error); color: white;">Delete</button></div></section>'),ja=d('<div class="selected-preview svelte-nycj3f"><p class="svelte-nycj3f"><strong>Domain:</strong> </p> <p class="svelte-nycj3f"><strong>Judgment:</strong> <span> </span></p> <p class="svelte-nycj3f"><strong>Date:</strong> </p> <button class="button button-secondary" style="margin-top: var(--spacing-sm);">Clear</button></div>'),Da=d('<p style="color: var(--color-text-muted); font-style: italic;">Select a deliberation from the table</p>'),$a=d('<div class="selected-preview svelte-nycj3f"><p class="svelte-nycj3f"><strong>Domain:</strong> </p> <p class="svelte-nycj3f"><strong>Judgment:</strong> <span> </span></p> <p class="svelte-nycj3f"><strong>Date:</strong> </p> <button class="button button-secondary" style="margin-top: var(--spacing-sm);">Clear</button></div>'),ka=d('<p style="color: var(--color-text-muted); font-style: italic;">Select a deliberation from the table</p>'),Ca=d("<section><!></section>"),Sa=d('<section class="card"><div style="margin-bottom: var(--spacing-lg);"><h2 style="margin-bottom: var(--spacing-sm);" class="svelte-nycj3f">Select Deliberations to Compare</h2> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm);">Click on two deliberations from the table above to see a side-by-side comparison</p></div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg); margin-bottom: var(--spacing-lg);"><div><h4 class="svelte-nycj3f">Deliberation 1</h4> <!></div> <div><h4 class="svelte-nycj3f">Deliberation 2</h4> <!></div></div></section> <!>',1),Wa=d('<div class="container" style="padding: var(--spacing-2xl) 0;"><header style="margin-bottom: var(--spacing-2xl);"><div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: var(--spacing-md);"><div><h1>Deliberation History</h1> <p style="color: var(--color-text-muted);">Review past ethical deliberations and their multi-perspectival analyses</p></div> <!></div></header> <main class="flex-col gap-lg"><section><!></section> <!> <!></main></div>');function Pa(at,We){ot(We,!1);let P=O([]),u=O(null),C=O(!0),R=O(!1),M=O(null),I=O(null);Tt(async()=>It.subscribe(W=>{j(P,W.history||[]),j(C,!1)}));function l(h){e(R)?e(M)?e(I)||(j(I,h.detail),setTimeout(()=>{document.querySelector(".comparison-slot")?.scrollIntoView({behavior:"smooth"})},100)):j(M,h.detail):(j(u,h.detail),setTimeout(()=>{document.getElementById("detail-view")?.scrollIntoView({behavior:"smooth"})},100))}function r(){j(u,null)}async function X(h){confirm("Are you sure you want to delete this deliberation?")&&console.log("Delete deliberation:",h)}async function N(){const h=JSON.stringify(e(P),null,2),W=new Blob([h],{type:"application/json"}),J=URL.createObjectURL(W),o=document.createElement("a");o.href=J,o.download=`iee-history-${new Date().toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(J)}function H(){j(R,!e(R)),e(R)||(j(M,null),j(I,null))}ct();var he=Wa(),ze=a(he),Ge=a(ze),Ae=s(a(Ge),2);{var Qe=h=>{var W=ga(),J=a(W);let o;var g=a(J,!0);t(J);var m=s(J,2);t(W),y(()=>{o=Se(J,1,"button",null,o,{"button-secondary":!e(R)}),i(g,e(R)?"✓ Comparison Mode":"Compare Deliberations")}),te("click",J,H),te("click",m,N),v(h,W)};$(Ae,h=>{e(P).length>0&&h(Qe)})}t(Ge),t(ze);var V=s(ze,2),ae=a(V),Ve=a(ae);{var xe=h=>{var W=ma();v(h,W)},Me=h=>{var W=vt(),J=tt(W);{var o=m=>{var S=ua();v(m,S)},g=m=>{Ht(m,{get history(){return e(P)},$$events:{select:l}})};$(J,m=>{e(P).length===0?m(o):m(g,!1)},!0)}v(h,W)};$(Ve,h=>{e(C)?h(xe):h(Me,!1)})}t(ae);var Te=s(ae,2);{var Oe=h=>{var W=wa(),J=a(W),o=s(a(J),2);t(J);var g=s(J,2),m=s(a(g),2),S=a(m),Z=a(S,!0);t(S),t(m),t(g);var F=s(g,2),Y=s(a(F),2),se=a(Y),ie=a(se),ee=a(ie,!0);t(ie),t(se);var ve=s(se,2),me=s(a(ve));t(ve);var we=s(ve,2),T=s(a(we));t(we);var k=s(we,2),B=s(a(k));t(k),t(Y),t(F);var ue=s(F,2),q=s(a(ue),2),re=a(q),je=a(re,!0);t(re),t(q),t(ue);var G=s(ue,2);{var _e=Q=>{var de=fa(),K=a(de),$e=a(K);t(K);var Je=s(K,2);ge(Je,5,()=>e(u).supportingWorldviews,ye,(fe,le)=>{var pe=_a(),be=a(pe,!0);t(pe),y(()=>i(be,e(le))),v(fe,pe)}),t(Je),t(de),y(()=>i($e,`Supporting Worldviews (${e(u).supportingWorldviews.length??""})`)),v(Q,de)};$(G,Q=>{e(u).supportingWorldviews&&e(u).supportingWorldviews.length>0&&Q(_e)})}var ce=s(G,2);{var De=Q=>{var de=xa(),K=a(de),$e=a(K);t(K);var Je=s(K,4);ge(Je,5,()=>e(u).minorityViews,ye,(fe,le)=>{var pe=ha(),be=a(pe),Re=a(be),Fe=a(Re);t(Re);var Ze=s(Re,2),Le=a(Ze,!0);t(Ze),t(be);var He=s(be,2);{var st=Ee=>{var et=ya(),nt=a(et,!0);t(et),y(()=>i(nt,e(le).reasoning)),v(Ee,et)};$(He,Ee=>{e(le).reasoning&&Ee(st)})}t(pe),y(()=>{i(Fe,`${e(le).worldview??""}:`),i(Le,e(le).judgment)}),v(fe,pe)}),t(Je),t(de),y(()=>i($e,`Dissenting Perspectives (${e(u).minorityViews.length??""})`)),v(Q,de)};$(ce,Q=>{e(u).minorityViews&&e(u).minorityViews.length>0&&Q(De)})}var Ne=s(ce,2),qe=a(Ne),D=a(qe),c=s(a(D),3),L=a(c,!0);t(c),t(D);var oe=s(D,2),Ue=s(a(oe),2);t(oe);var ne=s(oe,2),Be=s(a(ne),2);t(ne),t(qe),t(Ne);var Xe=s(Ne,2),Ie=s(a(Xe),2);t(Xe),t(W),y((Q,de,K)=>{i(Z,e(u).scenario?.description||"No description available"),ke(ie,`color: ${e(u).judgment==="permissible"?"#4f46e5":e(u).judgment==="impermissible"?"#d97706":"#6b7280"};`),i(ee,Q),i(me,` ${de??""}%
							(${(e(u).confidenceLevel||"unknown")??""})`),i(T,` ${(e(u).domain||"unknown")??""}`),i(B,` ${(e(u).metadata?.evaluationsCount||e(u).worldviews?.length||0)??""}`),i(je,e(u).justification||"No justification available"),i(L,e(u).id),i(Ue,` ${K??""}`),i(Be,` ${(e(u).metadata?.conflictsCount||0)??""}`)},[()=>e(u).judgment?.toUpperCase()||"UNCERTAIN",()=>((e(u).confidence||0)*100).toFixed(0),()=>new Date(e(u).timestamp).toLocaleString()]),te("click",o,r),te("click",Ie,()=>X(e(u).id)),v(h,W)};$(Te,h=>{e(u)&&h(Oe)})}var Ke=s(Te,2);{var Pe=h=>{var W=Sa(),J=tt(W),o=s(a(J),2),g=a(o);let m;var S=s(a(g),2);{var Z=T=>{var k=ja(),B=a(k),ue=s(a(B));t(B);var q=s(B,2),re=s(a(q),2),je=a(re,!0);t(re),t(q);var G=s(q,2),_e=s(a(G));t(G);var ce=s(G,2);t(k),y(De=>{i(ue,` ${e(M).domain??""}`),Se(re,1,`badge badge-${e(M).judgment??""}`,"svelte-nycj3f"),i(je,e(M).judgment),i(_e,` ${De??""}`)},[()=>new Date(e(M).timestamp).toLocaleDateString()]),te("click",ce,()=>j(M,null)),v(T,k)},F=T=>{var k=Da();v(T,k)};$(S,T=>{e(M)?T(Z):T(F,!1)})}t(g);var Y=s(g,2);let se;var ie=s(a(Y),2);{var ee=T=>{var k=$a(),B=a(k),ue=s(a(B));t(B);var q=s(B,2),re=s(a(q),2),je=a(re,!0);t(re),t(q);var G=s(q,2),_e=s(a(G));t(G);var ce=s(G,2);t(k),y(De=>{i(ue,` ${e(I).domain??""}`),Se(re,1,`badge badge-${e(I).judgment??""}`,"svelte-nycj3f"),i(je,e(I).judgment),i(_e,` ${De??""}`)},[()=>new Date(e(I).timestamp).toLocaleDateString()]),te("click",ce,()=>j(I,null)),v(T,k)},ve=T=>{var k=ka();v(T,k)};$(ie,T=>{e(I)?T(ee):T(ve,!1)})}t(Y),t(o),t(J);var me=s(J,2);{var we=T=>{var k=Ca(),B=a(k);ba(B,{get deliberation1(){return e(M)},get deliberation2(){return e(I)}}),t(k),v(T,k)};$(me,T=>{e(M)&&e(I)&&T(we)})}y(()=>{m=Se(g,1,"comparison-slot svelte-nycj3f",null,m,{selected:e(M)}),se=Se(Y,1,"comparison-slot svelte-nycj3f",null,se,{selected:e(I)})}),v(h,W)};$(Ke,h=>{e(R)&&h(Pe)})}t(V),t(he),v(at,he),dt()}export{Pa as component};
