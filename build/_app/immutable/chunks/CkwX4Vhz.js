import{a as at,d as pt,f as C,b as M,t as We,c as ft}from"./6je7jFEO.js";import{i as Le}from"./CpeNIsaV.js";import{b0 as G,h as it,a as st,A as yt,b2 as bt,T as nt,ab as _t,al as wt,aT as xt,aP as kt,$ as $t,aa as Be,j as jt,aS as Oe,b3 as we,b4 as qe,aU as Ve,a7 as J,v as e,aY as l,aZ as i,w as L,s as oe,b5 as Mt,u as v,a_ as t,b6 as Tt,b7 as rt,aX as Ge,aG as Ee,C as Se}from"./DoHTLkW9.js";import{e as re,s as O}from"./CLB9YTXT.js";import{i as Q}from"./BJiw7fV6.js";import{e as Te,i as Ie,s as $e}from"./BlBqY9SD.js";import{p as ae,s as It,a as At}from"./Ms0FWifF.js";import{v as Dt,d as Ze,s as Ct}from"./BHcPN9sa.js";import{s as Pt}from"./Ce91tnzs.js";import{b as Rt,s as ke}from"./C8dq-iSI.js";import{b as Et}from"./CxCuRt6O.js";import{S as ot,r as St}from"./B0-zVcZI.js";import{o as zt,c as Wt}from"./2rQ4z31m.js";import{b as Lt}from"./CWSxt2h6.js";function Ot(f,a,c=!1,n=!1,b=!1){var s=f,_="";G(()=>{var r=yt;if(_===(_=a()??"")){it&&st();return}if(r.nodes!==null&&(bt(r.nodes.start,r.nodes.end),r.nodes=null),_!==""){if(it){nt.data;for(var g=st(),h=g;g!==null&&(g.nodeType!==_t||g.data!=="");)h=g,g=wt(g);if(g===null)throw xt(),kt;at(nt,h),s=$t(g);return}var o=_+"";c?o=`<svg>${o}</svg>`:n&&(o=`<math>${o}</math>`);var y=pt(o);if((c||n)&&(y=Be(y)),at(Be(y),y.lastChild),c||n)for(;Be(y);)s.before(Be(y));else s.before(y)}})}function qt(f){return function(...a){var c=a[0];return c.stopPropagation(),f?.apply(this,a)}}function Vt(f,a){var c=f.$$events?.[a.type],n=jt(c)?c.slice():c==null?[]:[c];for(var b of n)b.call(this,a)}var Ft=C('<p class="error-message svelte-k5g2yc"> </p>'),Ht=C('<div class="error-messages svelte-k5g2yc"></div>'),Bt=C("<option> </option>"),Nt=C('<button type="submit" class="button"><!></button>'),Ut=C('<span style="color: var(--color-error);">(minimum 10)</span>'),Gt=C('<span style="color: var(--color-warning);">(approaching limit of 5000)</span>'),Yt=C('<div class="character-count svelte-k5g2yc"> <!></div>'),Jt=C('<form class="scenario-input svelte-k5g2yc"><div class="form-group svelte-k5g2yc"><label for="scenario-description" class="svelte-k5g2yc">Scenario Description <span class="required svelte-k5g2yc">*</span></label> <p class="help-text svelte-k5g2yc">Describe the ethical dilemma or decision in detail (minimum 10 characters)</p> <textarea id="scenario-description" placeholder="Example: A patient is on life support with no chance of recovery. The family must decide whether to continue treatment or withdraw support..." rows="6" required></textarea> <!></div> <div class="form-group svelte-k5g2yc"><label for="scenario-domain" class="svelte-k5g2yc">Domain</label> <p class="help-text svelte-k5g2yc">Specify the domain or leave blank for automatic detection</p> <select id="scenario-domain" class="svelte-k5g2yc"></select></div> <details class="context-section svelte-k5g2yc"><summary class="svelte-k5g2yc">Additional Context (Optional)</summary> <div class="context-fields svelte-k5g2yc"><p class="help-text svelte-k5g2yc">Add any additional context that might be relevant to the deliberation</p> <p style="color: var(--color-text-muted); font-style: italic;">Context fields coming soon</p></div></details> <div class="form-actions svelte-k5g2yc"><!></div> <!></form>');function Xt(f,a){Oe(a,!1);const c=oe();let n=ae(a,"scenario",28,()=>({description:"",domain:"",context:{}})),b=ae(a,"onSubmit",8,null),s=ae(a,"disabled",8,!1),_=oe([]),r=oe({description:!1});const g=[{value:"",label:"Auto-detect domain"},{value:"healthcare",label:"Healthcare"},{value:"spiritual",label:"Spiritual / Religious"},{value:"education",label:"Education"},{value:"vocational",label:"Vocational / Career"},{value:"environmental",label:"Environmental"},{value:"interpersonal",label:"Interpersonal"},{value:"intellectual",label:"Intellectual / Research"},{value:"general",label:"General"}];function h(){const w=Dt(n());return L(_,w.valid?[]:w.errors),w.valid}function o(w){rt(r,e(r)[w]=!0),h()}function y(w){w.preventDefault(),rt(r,e(r).description=!0),h()&&b()&&b()(n())}we(()=>J(n()),()=>{n().description&&h()}),we(()=>(e(r),e(_)),()=>{L(c,e(r).description?e(_):[])}),qe(),Le();var u=Jt(),k=i(u),E=l(i(k),4);Mt(E);let P;var K=l(E,2);{var $=w=>{var T=Ht();Te(T,5,()=>e(c),Ie,(S,U)=>{var I=Ft(),d=i(I);t(I),G(()=>O(d,`⚠️ ${e(U)??""}`)),M(S,I)}),t(T),M(w,T)};Q(K,w=>{e(c),v(()=>e(c).length>0)&&w($)})}t(k);var q=l(k,2),R=l(i(q),4);G(()=>{n(),Tt(()=>{s()})}),Te(R,5,()=>g,Ie,(w,T)=>{var S=Bt(),U=i(S,!0);t(S);var I={};G(()=>{O(U,(e(T),v(()=>e(T).label))),I!==(I=(e(T),v(()=>e(T).value)))&&(S.value=(S.__value=(e(T),v(()=>e(T).value)))??"")}),M(w,S)}),t(R),t(q);var N=l(q,4),V=i(N);Pt(V,a,"actions",{},w=>{var T=Nt(),S=i(T);{var U=d=>{var m=We("Processing...");M(d,m)},I=d=>{var m=We("Begin Deliberation");M(d,m)};Q(S,d=>{s()?d(U):d(I,!1)})}t(T),G(()=>T.disabled=(J(s()),e(c),v(()=>s()||e(c).length>0))),M(w,T)}),t(N);var X=l(N,2);{var ie=w=>{var T=Yt(),S=i(T),U=l(S);{var I=m=>{var p=Ut();M(m,p)},d=m=>{var p=ft(),W=Ge(p);{var F=H=>{var Z=Gt();M(H,Z)};Q(W,H=>{J(n()),v(()=>n().description.length>4900)&&H(F)},!0)}M(m,p)};Q(U,m=>{J(n()),v(()=>n().description.length<10)?m(I):m(d,!1)})}t(T),G(()=>O(S,`${J(n()),v(()=>n().description.length)??""} characters `)),M(w,T)};Q(X,w=>{J(n()),v(()=>n().description)&&w(ie)})}t(u),G(()=>{E.disabled=s(),P=ke(E,1,"svelte-k5g2yc",null,P,{error:e(c).length>0}),R.disabled=s()}),Et(E,()=>n().description,w=>n(n().description=w,!0)),re("blur",E,()=>o("description")),Rt(R,()=>n().domain,w=>n(n().domain=w,!0)),re("submit",u,y),M(f,u),Ve()}var Zt=C('<span class="cluster-badge svelte-55lxf7"> </span>'),Kt=C('<span style="color: var(--color-warning);"> </span>'),Qt=C('<span class="value-tag svelte-55lxf7"> </span>'),ea=C('<div class="values-section svelte-55lxf7"><h5 class="svelte-55lxf7">Values Emphasized</h5> <div class="values-list svelte-55lxf7"></div></div>'),ta=C(`<div class="uncertainty-notice svelte-55lxf7"><p class="svelte-55lxf7">⚠️ <strong>Epistemic Notice:</strong> There is significant uncertainty regarding this perspective's evaluation. <!></p></div>`),aa=C('<div class="card-details svelte-55lxf7"><div class="reasoning-section svelte-55lxf7"><h5 class="svelte-55lxf7">Reasoning</h5> <p class="reasoning-text svelte-55lxf7"> </p></div> <!> <!></div>'),ia=C('<div><div class="card-header svelte-55lxf7" role="button" tabindex="0"><div class="header-left svelte-55lxf7"><h4 class="svelte-55lxf7"> </h4> <!></div> <div class="header-right"><button class="expand-toggle svelte-55lxf7" aria-label="Toggle details"> </button></div></div> <div class="card-summary svelte-55lxf7"><div class="summary-item svelte-55lxf7"><span class="label svelte-55lxf7">This perspective:</span> <span> </span></div> <div class="summary-item svelte-55lxf7"><span class="label svelte-55lxf7">Certainty:</span> <div class="confidence-bar-container svelte-55lxf7"><div class="confidence-bar svelte-55lxf7"></div> <span class="confidence-text svelte-55lxf7"><!></span></div></div> <div class="summary-item svelte-55lxf7"><span class="label svelte-55lxf7">Moral Salience:</span> <span class="weight-text svelte-55lxf7"> </span></div></div> <!></div>');function lt(f,a){Oe(a,!1);const c=oe(),n=oe(),b=oe();let s=ae(a,"worldview",8,""),_=ae(a,"judgment",8,"uncertain"),r=ae(a,"confidence",8,.5),g=ae(a,"reasoning",8,""),h=ae(a,"values",24,()=>[]),o=ae(a,"weight",8,.5),y=ae(a,"cluster",8,""),u=ae(a,"expanded",12,!1);const k={"Material-Empirical":"#10b981","Process-Individual":"#3b82f6","Depth-Spiritual":"#8b5cf6"},E={permissible:"#4f46e5",impermissible:"#d97706",uncertain:"#6b7280"},P={permissible:"Affirming",impermissible:"Concerning",uncertain:"Uncertain"};function K(){u(!u())}we(()=>J(r()),()=>{L(c,1-r())}),we(()=>e(c),()=>{L(n,e(c)>.4)}),we(()=>e(c),()=>{L(b,1-e(c)*.3)}),qe(),Le();var $=ia();let q;var R=i($),N=i(R),V=i(N),X=i(V,!0);t(V);var ie=l(V,2);{var w=j=>{var D=Zt(),ee=i(D,!0);t(D),G(()=>{$e(D,`background: ${J(y()),v(()=>k[y()])??""};`),O(ee,y())}),M(j,D)};Q(ie,j=>{y()&&j(w)})}t(N);var T=l(N,2),S=i(T),U=i(S,!0);t(S),t(T),t(R);var I=l(R,2),d=i(I),m=l(i(d),2);let p;var W=i(m,!0);t(m),t(d);var F=l(d,2),H=l(i(F),2),Z=i(H),le=l(Z,2),se=i(le);{var A=j=>{var D=Kt(),ee=i(D);t(D),G(ue=>O(ee,`Significant uncertainty (${ue??""}%)`),[()=>(J(r()),v(()=>(r()*100).toFixed(0)))]),M(j,D)},x=j=>{var D=We();G(ee=>O(D,`${ee??""}%`),[()=>(J(r()),v(()=>(r()*100).toFixed(0)))]),M(j,D)};Q(se,j=>{e(n)?j(A):j(x,!1)})}t(le),t(H),t(F);var z=l(F,2),B=l(i(z),2),ce=i(B);t(B),t(z),t(I);var ve=l(I,2);{var Y=j=>{var D=aa(),ee=i(D),ue=l(i(ee),2),je=i(ue,!0);t(ue),t(ee);var ge=l(ee,2);{var Ae=de=>{var pe=ea(),ne=l(i(pe),2);Te(ne,5,h,Ie,(fe,_e)=>{var te=Qt(),De=i(te,!0);t(te),G(He=>O(De,He),[()=>(e(_e),v(()=>e(_e).replace(/_/g," ")))]),M(fe,te)}),t(ne),t(pe),M(de,pe)};Q(ge,de=>{J(h()),v(()=>h()&&h().length>0)&&de(Ae)})}var xe=l(ge,2);{var he=de=>{var pe=ta(),ne=i(pe),fe=l(i(ne),3);{var _e=te=>{var De=We("This may indicate limited grounding data for this worldview in this context.");M(te,De)};Q(fe,te=>{e(c)>.6&&te(_e)})}t(ne),t(pe),M(de,pe)};Q(xe,de=>{e(n)&&de(he)})}t(D),G(()=>O(je,g())),M(j,D)};Q(ve,j=>{u()&&j(Y)})}t($),G(j=>{q=ke($,1,"worldview-card svelte-55lxf7",null,q,{expanded:u()}),$e($,`border-left-color: ${J(y()),v(()=>k[y()]||"#6b7280")??""}; opacity: ${e(b)??""};`),O(X,s()),O(U,u()?"▼":"▶"),p=ke(m,1,"judgment-badge svelte-55lxf7",null,p,{uncertain:e(n)}),$e(m,`background: ${J(_()),v(()=>E[_()])??""}; opacity: ${e(b)??""};`),O(W,(J(_()),v(()=>P[_()]))),$e(Z,`width: ${r()*100}%; background: ${J(_()),v(()=>E[_()])??""};`),O(ce,`${j??""}% in this domain`)},[()=>(J(o()),v(()=>(o()*100).toFixed(0)))]),re("click",R,K),re("keypress",R,K),M(f,$),Ve()}function ct(f){return typeof f=="string"?new ot([[document.querySelector(f)]],[document.documentElement]):new ot([[f]],St)}const Qe=Math.PI,et=2*Qe,Re=1e-6,sa=et-Re;function mt(f){this._+=f[0];for(let a=1,c=f.length;a<c;++a)this._+=arguments[a]+f[a]}function na(f){let a=Math.floor(f);if(!(a>=0))throw new Error(`invalid digits: ${f}`);if(a>15)return mt;const c=10**a;return function(n){this._+=n[0];for(let b=1,s=n.length;b<s;++b)this._+=Math.round(arguments[b]*c)/c+n[b]}}class ra{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=a==null?mt:na(a)}moveTo(a,c){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+c}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,c){this._append`L${this._x1=+a},${this._y1=+c}`}quadraticCurveTo(a,c,n,b){this._append`Q${+a},${+c},${this._x1=+n},${this._y1=+b}`}bezierCurveTo(a,c,n,b,s,_){this._append`C${+a},${+c},${+n},${+b},${this._x1=+s},${this._y1=+_}`}arcTo(a,c,n,b,s){if(a=+a,c=+c,n=+n,b=+b,s=+s,s<0)throw new Error(`negative radius: ${s}`);let _=this._x1,r=this._y1,g=n-a,h=b-c,o=_-a,y=r-c,u=o*o+y*y;if(this._x1===null)this._append`M${this._x1=a},${this._y1=c}`;else if(u>Re)if(!(Math.abs(y*g-h*o)>Re)||!s)this._append`L${this._x1=a},${this._y1=c}`;else{let k=n-_,E=b-r,P=g*g+h*h,K=k*k+E*E,$=Math.sqrt(P),q=Math.sqrt(u),R=s*Math.tan((Qe-Math.acos((P+u-K)/(2*$*q)))/2),N=R/q,V=R/$;Math.abs(N-1)>Re&&this._append`L${a+N*o},${c+N*y}`,this._append`A${s},${s},0,0,${+(y*k>o*E)},${this._x1=a+V*g},${this._y1=c+V*h}`}}arc(a,c,n,b,s,_){if(a=+a,c=+c,n=+n,_=!!_,n<0)throw new Error(`negative radius: ${n}`);let r=n*Math.cos(b),g=n*Math.sin(b),h=a+r,o=c+g,y=1^_,u=_?b-s:s-b;this._x1===null?this._append`M${h},${o}`:(Math.abs(this._x1-h)>Re||Math.abs(this._y1-o)>Re)&&this._append`L${h},${o}`,n&&(u<0&&(u=u%et+et),u>sa?this._append`A${n},${n},0,1,${y},${a-r},${c-g}A${n},${n},0,1,${y},${this._x1=h},${this._y1=o}`:u>Re&&this._append`A${n},${n},0,${+(u>=Qe)},${y},${this._x1=a+n*Math.cos(s)},${this._y1=c+n*Math.sin(s)}`)}rect(a,c,n,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+c}h${n=+n}v${+b}h${-n}Z`}toString(){return this._}}function Ce(f){return function(){return f}}const dt=Math.abs,me=Math.atan2,Pe=Math.cos,oa=Math.max,Ke=Math.min,Me=Math.sin,ze=Math.sqrt,be=1e-12,Fe=Math.PI,Ue=Fe/2,la=2*Fe;function ca(f){return f>1?0:f<-1?Fe:Math.acos(f)}function vt(f){return f>=1?Ue:f<=-1?-Ue:Math.asin(f)}function da(f){let a=3;return f.digits=function(c){if(!arguments.length)return a;if(c==null)a=null;else{const n=Math.floor(c);if(!(n>=0))throw new RangeError(`invalid digits: ${c}`);a=n}return f},()=>new ra(a)}function va(f){return f.innerRadius}function ua(f){return f.outerRadius}function fa(f){return f.startAngle}function ma(f){return f.endAngle}function ga(f){return f&&f.padAngle}function ha(f,a,c,n,b,s,_,r){var g=c-f,h=n-a,o=_-b,y=r-s,u=y*g-o*h;if(!(u*u<be))return u=(o*(a-s)-y*(f-b))/u,[f+u*g,a+u*h]}function Ne(f,a,c,n,b,s,_){var r=f-c,g=a-n,h=(_?s:-s)/ze(r*r+g*g),o=h*g,y=-h*r,u=f+o,k=a+y,E=c+o,P=n+y,K=(u+E)/2,$=(k+P)/2,q=E-u,R=P-k,N=q*q+R*R,V=b-s,X=u*P-E*k,ie=(R<0?-1:1)*ze(oa(0,V*V*N-X*X)),w=(X*R-q*ie)/N,T=(-X*q-R*ie)/N,S=(X*R+q*ie)/N,U=(-X*q+R*ie)/N,I=w-K,d=T-$,m=S-K,p=U-$;return I*I+d*d>m*m+p*p&&(w=S,T=U),{cx:w,cy:T,x01:-o,y01:-y,x11:w*(b/V-1),y11:T*(b/V-1)}}function ut(){var f=va,a=ua,c=Ce(0),n=null,b=fa,s=ma,_=ga,r=null,g=da(h);function h(){var o,y,u=+f.apply(this,arguments),k=+a.apply(this,arguments),E=b.apply(this,arguments)-Ue,P=s.apply(this,arguments)-Ue,K=dt(P-E),$=P>E;if(r||(r=o=g()),k<u&&(y=k,k=u,u=y),!(k>be))r.moveTo(0,0);else if(K>la-be)r.moveTo(k*Pe(E),k*Me(E)),r.arc(0,0,k,E,P,!$),u>be&&(r.moveTo(u*Pe(P),u*Me(P)),r.arc(0,0,u,P,E,$));else{var q=E,R=P,N=E,V=P,X=K,ie=K,w=_.apply(this,arguments)/2,T=w>be&&(n?+n.apply(this,arguments):ze(u*u+k*k)),S=Ke(dt(k-u)/2,+c.apply(this,arguments)),U=S,I=S,d,m;if(T>be){var p=vt(T/u*Me(w)),W=vt(T/k*Me(w));(X-=p*2)>be?(p*=$?1:-1,N+=p,V-=p):(X=0,N=V=(E+P)/2),(ie-=W*2)>be?(W*=$?1:-1,q+=W,R-=W):(ie=0,q=R=(E+P)/2)}var F=k*Pe(q),H=k*Me(q),Z=u*Pe(V),le=u*Me(V);if(S>be){var se=k*Pe(R),A=k*Me(R),x=u*Pe(N),z=u*Me(N),B;if(K<Fe)if(B=ha(F,H,x,z,se,A,Z,le)){var ce=F-B[0],ve=H-B[1],Y=se-B[0],j=A-B[1],D=1/Me(ca((ce*Y+ve*j)/(ze(ce*ce+ve*ve)*ze(Y*Y+j*j)))/2),ee=ze(B[0]*B[0]+B[1]*B[1]);U=Ke(S,(u-ee)/(D-1)),I=Ke(S,(k-ee)/(D+1))}else U=I=0}ie>be?I>be?(d=Ne(x,z,F,H,k,I,$),m=Ne(se,A,Z,le,k,I,$),r.moveTo(d.cx+d.x01,d.cy+d.y01),I<S?r.arc(d.cx,d.cy,I,me(d.y01,d.x01),me(m.y01,m.x01),!$):(r.arc(d.cx,d.cy,I,me(d.y01,d.x01),me(d.y11,d.x11),!$),r.arc(0,0,k,me(d.cy+d.y11,d.cx+d.x11),me(m.cy+m.y11,m.cx+m.x11),!$),r.arc(m.cx,m.cy,I,me(m.y11,m.x11),me(m.y01,m.x01),!$))):(r.moveTo(F,H),r.arc(0,0,k,q,R,!$)):r.moveTo(F,H),!(u>be)||!(X>be)?r.lineTo(Z,le):U>be?(d=Ne(Z,le,se,A,u,-U,$),m=Ne(F,H,x,z,u,-U,$),r.lineTo(d.cx+d.x01,d.cy+d.y01),U<S?r.arc(d.cx,d.cy,U,me(d.y01,d.x01),me(m.y01,m.x01),!$):(r.arc(d.cx,d.cy,U,me(d.y01,d.x01),me(d.y11,d.x11),!$),r.arc(0,0,u,me(d.cy+d.y11,d.cx+d.x11),me(m.cy+m.y11,m.cx+m.x11),$),r.arc(m.cx,m.cy,U,me(m.y11,m.x11),me(m.y01,m.x01),!$))):r.arc(0,0,u,V,N,$)}if(r.closePath(),o)return r=null,o+""||null}return h.centroid=function(){var o=(+f.apply(this,arguments)+ +a.apply(this,arguments))/2,y=(+b.apply(this,arguments)+ +s.apply(this,arguments))/2-Fe/2;return[Pe(y)*o,Me(y)*o]},h.innerRadius=function(o){return arguments.length?(f=typeof o=="function"?o:Ce(+o),h):f},h.outerRadius=function(o){return arguments.length?(a=typeof o=="function"?o:Ce(+o),h):a},h.cornerRadius=function(o){return arguments.length?(c=typeof o=="function"?o:Ce(+o),h):c},h.padRadius=function(o){return arguments.length?(n=o==null?null:typeof o=="function"?o:Ce(+o),h):n},h.startAngle=function(o){return arguments.length?(b=typeof o=="function"?o:Ce(+o),h):b},h.endAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Ce(+o),h):s},h.padAngle=function(o){return arguments.length?(_=typeof o=="function"?o:Ce(+o),h):_},h.context=function(o){return arguments.length?(r=o??null,h):r},h}var pa=C('<div class="conflict-map-container svelte-1k68gfy"><div class="agent-status svelte-1k68gfy"><strong class="svelte-1k68gfy">Model Output:</strong> Multi-perspectival Analysis. <span style="font-style: italic;">This system bears no moral cost for this evaluation. Action requires human agency.</span></div> <svg class="conflict-map-svg svelte-1k68gfy"></svg> <div class="legend svelte-1k68gfy"><div class="legend-title svelte-1k68gfy">Visual Encoding</div> <div class="legend-items svelte-1k68gfy"><div class="legend-item svelte-1k68gfy"><div class="legend-swatch svelte-1k68gfy"></div> <span>Radial Distance = Moral Salience</span></div> <div class="legend-item svelte-1k68gfy"><div class="legend-swatch svelte-1k68gfy"></div> <span>Indigo = Affirming</span></div> <div class="legend-item svelte-1k68gfy"><div class="legend-swatch svelte-1k68gfy"></div> <span>Ochre = Concerning</span></div> <div class="legend-item svelte-1k68gfy"><div class="legend-swatch svelte-1k68gfy"></div> <span>Gray = Uncertain</span></div> <div class="legend-item svelte-1k68gfy"><div class="legend-swatch dashed svelte-1k68gfy"></div> <span>Dashed = High Uncertainty</span></div> <div class="legend-item svelte-1k68gfy"><div class="legend-swatch svelte-1k68gfy" style="background: #ef4444; opacity: 0.6;"></div> <span>Red Lines = Conflicts</span></div></div></div></div>');function ya(f,a){Oe(a,!1);let c=ae(a,"worldviews",24,()=>[]),n=ae(a,"conflicts",24,()=>[]),b=ae(a,"width",8,600),s=ae(a,"height",8,600),_=oe();const r=[{name:"Material-Empirical",worldviews:["Materialism","Sensationalism","Phenomenalism","Realism"],color:"#10b981"},{name:"Process-Individual",worldviews:["Dynamism","Monadism","Idealism","Rationalism"],color:"#3b82f6"},{name:"Depth-Spiritual",worldviews:["Psychism","Pneumatism","Spiritualism","Mathematism"],color:"#8b5cf6"}],g={permissible:"#4f46e5",impermissible:"#d97706",uncertain:"#6b7280"},h=["Materialism","Sensationalism","Phenomenalism","Realism","Dynamism","Monadism","Idealism","Rationalism","Psychism","Pneumatism","Spiritualism","Mathematism"];function o(){if(!e(_)||!c()||c().length===0)return;ct(e(_)).selectAll("*").remove();const w=Math.min(b(),s())/2-80,T=b()/2,S=s()/2,I=ct(e(_)).attr("width",b()).attr("height",s()).append("g").attr("transform",`translate(${T}, ${S})`),d=2*Math.PI/12;r.forEach((m,p)=>{const W=p*4,F=W*d-Math.PI/2,H=(W+4)*d-Math.PI/2,Z=ut().innerRadius(0).outerRadius(w).startAngle(F).endAngle(H);I.append("path").attr("d",Z).attr("fill",m.color).attr("opacity",.05).attr("class","cluster-background")}),c().forEach((m,p)=>{const W=h.indexOf(m.worldview);if(W===-1)return;const F=W*d-Math.PI/2,H=(W+1)*d-Math.PI/2,Z=m.weight||.5,le=w*Z,se=1-m.confidence,A=1-se*.5,x=g[m.judgment]||g.uncertain,z=se>.4,B=ut().innerRadius(w*.3).outerRadius(le).startAngle(F).endAngle(H-.05),ce=I.append("path").attr("d",B).attr("fill",x).attr("opacity",A).attr("stroke",x).attr("stroke-width",2).attr("class","worldview-arc");z&&ce.attr("stroke-dasharray","5,5");const ve=F+d/2,Y=w+20,j=Math.cos(ve)*Y,D=Math.sin(ve)*Y;I.append("text").attr("x",j).attr("y",D).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill","#374151").text(m.worldview)}),n()&&n().length>0&&n().forEach(m=>{const p=h.indexOf(m.worldviews?.[0]),W=h.indexOf(m.worldviews?.[1]);if(p===-1||W===-1)return;const F=p*d-Math.PI/2,H=W*d-Math.PI/2,Z=w*.35,le=Math.cos(F+d/2)*Z,se=Math.sin(F+d/2)*Z,A=Math.cos(H+d/2)*Z,x=Math.sin(H+d/2)*Z;I.append("line").attr("x1",le).attr("y1",se).attr("x2",A).attr("y2",x).attr("stroke","#ef4444").attr("stroke-width",1.5).attr("stroke-dasharray","3,3").attr("opacity",.6).attr("class","conflict-line")}),I.append("circle").attr("r",w*.25).attr("fill","none").attr("stroke","#d1d5db").attr("stroke-width",2).attr("stroke-dasharray","2,2").attr("opacity",.5),I.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","11px").attr("font-style","italic").attr("fill","#9ca3af").text("Space of Freedom")}zt(()=>{o()}),we(()=>(J(c()),e(_)),()=>{c()&&e(_)&&o()}),qe(),Le();var y=pa(),u=l(i(y),2);Lt(u,ie=>L(_,ie),()=>e(_));var k=l(u,2),E=l(i(k),2),P=i(E),K=i(P);Ee(2),t(P);var $=l(P,2),q=i($);Ee(2),t($);var R=l($,2),N=i(R);Ee(2),t(R);var V=l(R,2),X=i(V);Ee(2),t(V),Ee(4),t(E),t(k),t(y),G(()=>{$e(K,`background: linear-gradient(to right, transparent, ${v(()=>g.permissible)??""});`),$e(q,`background: ${v(()=>g.permissible)??""};`),$e(N,`background: ${v(()=>g.impermissible)??""};`),$e(X,`background: ${v(()=>g.uncertain)??""};`)}),M(f,y),Ve()}var ba=C("in the <strong> </strong> domain",1),_a=C('<div class="tension-notice svelte-feomyj"><p class="svelte-feomyj">⚡ <strong>Tension Identified:</strong> </p></div>'),wa=C('<span class="worldview-badge supporting svelte-feomyj"> </span>'),xa=C('<div class="supporting-section svelte-feomyj"><h4 class="svelte-feomyj"> </h4> <p class="section-description svelte-feomyj">The following worldviews converge on this judgment:</p> <div class="worldview-badges svelte-feomyj"></div></div>'),ka=C('<p class="minority-reasoning svelte-feomyj"> </p>'),$a=C('<div class="minority-view-card svelte-feomyj"><div class="minority-header svelte-feomyj"><strong> </strong> <span class="minority-judgment-badge svelte-feomyj"> </span></div> <!></div>'),ja=C(`<div class="minority-section svelte-feomyj"><h4 class="svelte-feomyj"> </h4> <p class="section-description svelte-feomyj"><strong>Epistemic Humility:</strong> These worldviews reached different conclusions.
				Their perspectives are preserved to avoid premature consensus.</p> <div class="minority-views-list svelte-feomyj"></div></div>`),Ma=C(`<div class="integrated-judgment-container svelte-feomyj"><div class="judgment-header svelte-feomyj"><h3 class="svelte-feomyj">Integrated Multi-Perspectival Analysis</h3> <p class="header-subtitle svelte-feomyj"> <!></p></div> <div class="judgment-primary svelte-feomyj"><div class="judgment-label svelte-feomyj"> </div> <div class="confidence-indicator svelte-feomyj"><div class="confidence-bar-container svelte-feomyj"><div class="confidence-bar svelte-feomyj"></div></div> <p class="confidence-text svelte-feomyj"><strong>Epistemic Status:</strong> </p></div> <!></div> <div class="justification-section svelte-feomyj"><h4 class="svelte-feomyj">Multi-Perspectival Reasoning</h4> <div class="justification-content svelte-feomyj"><!></div></div> <!> <!> <div class="epistemic-notice svelte-feomyj"><p class="svelte-feomyj"><strong>Note:</strong> This analysis illuminates the structural complexity of the choice
			but does not prescribe action. The final decision remains with the moral agent who bears
			the existential responsibility for this choice.</p></div></div>`);function Ta(f,a){Oe(a,!1);const c=oe();let n=ae(a,"judgment",8,"uncertain"),b=ae(a,"confidence",8,.5),s=ae(a,"confidenceLevel",8,"moderate"),_=ae(a,"justification",8,""),r=ae(a,"supportingWorldviews",24,()=>[]),g=ae(a,"minorityViews",24,()=>[]),h=ae(a,"domain",8,""),o=ae(a,"conflictsCount",8,0);const y={permissible:"#4f46e5",impermissible:"#d97706",uncertain:"#6b7280"},u={permissible:"The integrated perspective tends toward affirmation",impermissible:"The integrated perspective identifies significant concerns",uncertain:"The integrated perspective remains uncertain"},k={low:"There is significant uncertainty across worldviews",moderate:"There is moderate agreement among worldviews",high:"There is substantial convergence among worldviews"};function E(A){return A?A.split(`
`).map(x=>(x=x.trim(),x?x.startsWith("# ")?`<h3 class="just-h1">${x.substring(2)}</h3>`:x.startsWith("## ")?`<h4 class="just-h2">${x.substring(3)}</h4>`:x.startsWith("### ")?`<h5 class="just-h3">${x.substring(4)}</h5>`:x.match(/^\*\*.*\*\*:?\s*/)?`<p class="just-bold">${x.replace(/\*\*/g,"<strong>").replace(/<strong>/g,"").replace(/<\/strong>/g,"")}</strong></p>`:x.startsWith("- ")?`<li>${x.substring(2)}</li>`:`<p class="just-p">${x}</p>`:"")).filter(x=>x).join(""):""}we(()=>J(_()),()=>{L(c,E(_()))}),qe(),Le();var P=Ma(),K=i(P),$=l(i(K),2),q=i($),R=l(q);{var N=A=>{var x=ba(),z=l(Ge(x)),B=i(z,!0);t(z),Ee(),G(()=>O(B,h())),M(A,x)};Q(R,A=>{h()&&A(N)})}t($),t(K);var V=l(K,2),X=i(V),ie=i(X,!0);t(X);var w=l(X,2),T=i(w),S=i(T);t(T);var U=l(T,2),I=l(i(U));t(U),t(w);var d=l(w,2);{var m=A=>{var x=_a(),z=i(x),B=l(i(z),2);t(z),t(x),G(()=>O(B,` ${o()??""} ${o()===1?"conflict":"conflicts"} detected between worldviews.
					See minority views below for dissenting perspectives.`)),M(A,x)};Q(d,A=>{o()>0&&A(m)})}t(V);var p=l(V,2),W=l(i(p),2),F=i(W);Ot(F,()=>e(c)),t(W),t(p);var H=l(p,2);{var Z=A=>{var x=xa(),z=i(x),B=i(z);t(z);var ce=l(z,4);Te(ce,5,r,Ie,(ve,Y)=>{var j=wa(),D=i(j,!0);t(j),G(()=>{$e(j,`background: ${J(n()),v(()=>y[n()])??""};`),O(D,e(Y))}),M(ve,j)}),t(ce),t(x),G(()=>O(B,`Aligned Perspectives (${J(r()),v(()=>r().length)??""})`)),M(A,x)};Q(H,A=>{J(r()),v(()=>r()&&r().length>0)&&A(Z)})}var le=l(H,2);{var se=A=>{var x=ja(),z=i(x),B=i(z);t(z);var ce=l(z,4);Te(ce,5,g,Ie,(ve,Y)=>{var j=$a(),D=i(j),ee=i(D),ue=i(ee,!0);t(ee);var je=l(ee,2),ge=i(je,!0);t(je),t(D);var Ae=l(D,2);{var xe=he=>{var de=ka(),pe=i(de);t(de),G(()=>O(pe,`"${e(Y),v(()=>e(Y).reasoning)??""}"`)),M(he,de)};Q(Ae,he=>{e(Y),v(()=>e(Y).reasoning)&&he(xe)})}t(j),G(()=>{O(ue,(e(Y),v(()=>e(Y).worldview))),O(ge,(e(Y),v(()=>e(Y).judgment)))}),M(ve,j)}),t(ce),t(x),G(()=>O(B,`Dissenting Perspectives (${J(g()),v(()=>g().length)??""})`)),M(A,x)};Q(le,A=>{J(g()),v(()=>g()&&g().length>0)&&A(se)})}Ee(2),t(P),G(A=>{O(q,`Synthesis across ${J(r()),J(g()),v(()=>r().length+g().length)??""} worldview perspectives `),$e(V,`border-left-color: ${J(n()),v(()=>y[n()])??""};`),O(ie,(J(n()),v(()=>u[n()]))),$e(S,`width: ${b()*100}%; background: ${J(n()),v(()=>y[n()])??""};`),O(I,` ${J(s()),v(()=>k[s()])??""}
				(${A??""}% confidence)`)},[()=>(J(b()),v(()=>(b()*100).toFixed(0)))]),M(f,P),Ve()}var Ia=C('<span class="tag svelte-uuaf2l"> </span>'),Aa=C('<button><h3 class="svelte-uuaf2l"> </h3> <p class="template-preview svelte-uuaf2l"> </p> <div class="template-tags svelte-uuaf2l"></div></button>'),Da=C('<span class="tag svelte-uuaf2l"> </span>'),Ca=C('<div class="template-detail svelte-uuaf2l"><h3 class="svelte-uuaf2l"> </h3> <p class="description svelte-uuaf2l"> </p> <div class="template-tags svelte-uuaf2l"></div></div>'),Pa=C('<div class="modal-backdrop svelte-uuaf2l"><div class="modal-content svelte-uuaf2l"><div class="modal-header svelte-uuaf2l"><h2 class="svelte-uuaf2l">Scenario Templates</h2> <button class="close-button svelte-uuaf2l" aria-label="Close">×</button></div> <div class="modal-body svelte-uuaf2l"><div class="domain-tabs svelte-uuaf2l"><button>Healthcare</button> <button>Spiritual</button> <button>Education</button> <button>Vocational</button> <button>Environmental</button> <button>Interpersonal</button> <button>Intellectual</button> <button>General</button></div> <div class="template-list svelte-uuaf2l"></div> <!></div> <div class="modal-footer svelte-uuaf2l"><button class="button button-secondary">Cancel</button> <button class="button">Load Template</button></div></div></div>');function Ra(f,a){Oe(a,!1);const c=oe(),n=oe(),b=Wt();let s=ae(a,"show",12,!1);const _={healthcare:[{title:"End-of-Life Care Decision",description:"A 78-year-old patient with terminal cancer is on life support with no chance of recovery. The family must decide whether to continue aggressive treatment or transition to comfort care. The patient left no advance directive, but had previously mentioned preferring quality of life over prolonged suffering.",tags:["end-of-life","family decision","terminal illness"]},{title:"Experimental Treatment Access",description:"A pharmaceutical company offers a patient access to an experimental drug that shows promise but has not completed clinical trials. The treatment could extend life by 6-12 months but carries unknown risks. Insurance will not cover the $200,000 cost.",tags:["experimental","cost","risk-benefit"]},{title:"Organ Donation Priority",description:"Two patients need a liver transplant. One is a 45-year-old parent of three who developed liver disease through no fault of their own. The other is a 28-year-old with self-inflicted damage from alcohol abuse but has been sober for 2 years. Only one liver is available.",tags:["allocation","fairness","desert"]}],spiritual:[{title:"Leaving Faith Community",description:"After 30 years in a conservative religious community, I'm questioning core doctrines and considering leaving. This would mean losing my entire social network and possibly estrangement from family. However, staying feels intellectually dishonest and emotionally suffocating.",tags:["faith","community","authenticity"]},{title:"Interfaith Marriage",description:"I'm in love with someone from a different religious tradition. Both families expect us to convert to their faith. We're considering creating our own spiritual practice that honors both traditions, but this may alienate both families.",tags:["marriage","tradition","family"]},{title:"Religious Practice vs Career",description:"My career requires working on my faith's holy day. The job is a once-in-a-lifetime opportunity that could support my family for years. My religious community views working on this day as a serious violation of sacred obligations.",tags:["work","observance","obligation"]}],education:[{title:"Academic Dishonesty Dilemma",description:"I discovered that several students in my class are using AI to write their essays. I'm struggling to keep up while doing my own work. Reporting them might make me a social outcast, but not reporting feels unfair to honest students.",tags:["cheating","fairness","social pressure"]},{title:"Competitive vs Collaborative Learning",description:"Our school is switching from a competitive grading system (curve-based) to a collaborative learning model where students are evaluated on group projects and peer teaching. Some high-achieving students are protesting, fearing it will hurt their college admissions.",tags:["grading","competition","cooperation"]}],vocational:[{title:"High-Paying Unethical Work",description:"I've been offered a $300,000/year position at a company whose primary client is developing weapons systems. The money would eliminate my family's debt and secure our future, but the work conflicts with my values around peace and non-violence.",tags:["money","values","weapons"]},{title:"Work-Life Balance Crisis",description:"My employer expects 60-80 hour work weeks. I'm missing my children's milestones and my marriage is suffering. However, I'm the sole income earner, and stepping back could mean losing the promotion I've worked toward for five years.",tags:["family","career","time"]},{title:"Whistleblowing Decision",description:"I've discovered my company is falsifying safety reports to avoid recalls. Reporting this could save lives but will certainly cost me my job and make me unemployable in my industry. I have a family depending on my income.",tags:["safety","employment","public good"]}],environmental:[{title:"Wilderness vs Economic Development",description:"Our town has an opportunity to approve a lithium mining operation that would create 500 jobs and fund schools for a decade. However, it would destroy 50,000 acres of pristine wilderness and threaten several endangered species. The region has high unemployment.",tags:["jobs","conservation","community"]},{title:"Personal Carbon Footprint",description:"My dream job requires flying internationally twice a month. I'm deeply concerned about climate change and have been a climate activist. Taking this job would increase my carbon footprint tenfold, but I could use the platform to advocate for environmental policies.",tags:["climate","hypocrisy","advocacy"]}],interpersonal:[{title:"Truth vs Kindness",description:`My best friend is about to marry someone I believe is manipulative and emotionally abusive. I've seen red flags that my friend dismisses as "misunderstandings." Should I speak up and risk ending our friendship, or stay silent and potentially watch them suffer?`,tags:["friendship","honesty","protection"]},{title:"Family Duty vs Independence",description:"My parents expect me to live with them and care for them as they age, as is traditional in our culture. However, I've received a fellowship opportunity across the country that could define my career. Declining feels like abandoning family duty; accepting feels selfish.",tags:["family","culture","career"]}],intellectual:[{title:"Controversial Research Publication",description:"I have data suggesting a controversial conclusion that contradicts mainstream scientific consensus and could be misused by political groups. Publishing could advance knowledge but might cause social harm. Not publishing violates scientific integrity.",tags:["research","politics","integrity"]},{title:"Authorship Dispute",description:"My advisor is listed as first author on a paper despite me doing 90% of the work. This is standard in my field but feels unjust. Challenging this could damage my career prospects and violate academic hierarchy norms.",tags:["credit","power","norms"]}],general:[{title:"Found Wallet Dilemma",description:"I found a wallet with $500 cash and no ID. There's a gym membership card but the gym is closed for renovation. I could really use the money for rent, but it clearly belongs to someone who might also need it.",tags:["honesty","need","property"]},{title:"White Lie to Protect Feelings",description:"My partner asks if I like their new haircut, which I honestly find unflattering. Telling the truth might hurt their feelings and they can't change it now. Should I be honest or tell a kind lie?",tags:["honesty","kindness","relationships"]}]};let r=oe("healthcare"),g=oe(null);function h(P){L(g,P)}function o(){e(g)&&(b("select",{description:e(g).description,domain:e(r)}),y())}function y(){s(!1),L(g,null)}we(()=>{},()=>{L(c,Object.values(_).flat())}),we(()=>e(r),()=>{L(n,_[e(r)]||[])}),qe(),Le();var u=ft(),k=Ge(u);{var E=P=>{var K=Pa(),$=i(K),q=i($),R=l(i(q),2);t(q);var N=l(q,2),V=i(N),X=i(V);let ie;var w=l(X,2);let T;var S=l(w,2);let U;var I=l(S,2);let d;var m=l(I,2);let p;var W=l(m,2);let F;var H=l(W,2);let Z;var le=l(H,2);let se;t(V);var A=l(V,2);Te(A,5,()=>e(n),Ie,(Y,j)=>{var D=Aa();let ee;var ue=i(D),je=i(ue,!0);t(ue);var ge=l(ue,2),Ae=i(ge);t(ge);var xe=l(ge,2);Te(xe,5,()=>(e(j),v(()=>e(j).tags)),Ie,(he,de)=>{var pe=Ia(),ne=i(pe,!0);t(pe),G(()=>O(ne,e(de))),M(he,pe)}),t(xe),t(D),G(he=>{ee=ke(D,1,"template-card svelte-uuaf2l",null,ee,{selected:e(g)===e(j)}),O(je,(e(j),v(()=>e(j).title))),O(Ae,`${he??""}...`)},[()=>(e(j),v(()=>e(j).description.slice(0,150)))]),re("click",D,()=>h(e(j))),M(Y,D)}),t(A);var x=l(A,2);{var z=Y=>{var j=Ca(),D=i(j),ee=i(D,!0);t(D);var ue=l(D,2),je=i(ue,!0);t(ue);var ge=l(ue,2);Te(ge,5,()=>(e(g),v(()=>e(g).tags)),Ie,(Ae,xe)=>{var he=Da(),de=i(he,!0);t(he),G(()=>O(de,e(xe))),M(Ae,he)}),t(ge),t(j),G(()=>{O(ee,(e(g),v(()=>e(g).title))),O(je,(e(g),v(()=>e(g).description)))}),M(Y,j)};Q(x,Y=>{e(g)&&Y(z)})}t(N);var B=l(N,2),ce=i(B),ve=l(ce,2);t(B),t($),t(K),G(()=>{ie=ke(X,1,"tab svelte-uuaf2l",null,ie,{active:e(r)==="healthcare"}),T=ke(w,1,"tab svelte-uuaf2l",null,T,{active:e(r)==="spiritual"}),U=ke(S,1,"tab svelte-uuaf2l",null,U,{active:e(r)==="education"}),d=ke(I,1,"tab svelte-uuaf2l",null,d,{active:e(r)==="vocational"}),p=ke(m,1,"tab svelte-uuaf2l",null,p,{active:e(r)==="environmental"}),F=ke(W,1,"tab svelte-uuaf2l",null,F,{active:e(r)==="interpersonal"}),Z=ke(H,1,"tab svelte-uuaf2l",null,Z,{active:e(r)==="intellectual"}),se=ke(le,1,"tab svelte-uuaf2l",null,se,{active:e(r)==="general"}),ve.disabled=!e(g)}),re("click",R,y),re("click",X,()=>L(r,"healthcare")),re("click",w,()=>L(r,"spiritual")),re("click",S,()=>L(r,"education")),re("click",I,()=>L(r,"vocational")),re("click",m,()=>L(r,"environmental")),re("click",W,()=>L(r,"interpersonal")),re("click",H,()=>L(r,"intellectual")),re("click",le,()=>L(r,"general")),re("click",ce,y),re("click",ve,o),re("click",$,qt(function(Y){Vt.call(this,a,Y)})),re("click",K,y),M(P,K)};Q(k,P=>{s()&&P(E)})}M(f,u),Ve()}var Ea=C('<button type="button" class="button button-secondary">New Deliberation</button>'),Sa=C('<div class="flex gap-md"><button type="submit" class="button"><!></button> <!></div>'),za=C('<div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: #fee; border: 1px solid var(--color-error); border-radius: var(--radius-md); color: var(--color-error);"> </div>'),Wa=C('<section class="card" style="text-align: center; padding: var(--spacing-2xl);"><div style="font-size: var(--font-size-lg); color: var(--color-text-muted);">⏳ Deliberating across 12 worldviews...</div> <p style="margin-top: var(--spacing-md); color: var(--color-text-muted);">Gathering perspectives, identifying tensions, and resolving value conflicts.<br/> <span style="font-style: italic; font-size: var(--font-size-sm);">This deliberative pacing is intentional—gravity befits the subject matter.</span></p></section>'),La=C("<section><!></section>"),Oa=C('<div class="flex-col gap-md"></div>'),qa=C('<div style="margin-bottom: var(--spacing-lg);"><h3 style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-sm);" class="svelte-b3a3x6">Dissenting Perspectives <span style="font-size: var(--font-size-sm); font-weight: normal; color: var(--color-text-muted);">(Highlighted per MDI v2.0 Delta Principle)</span></h3> <div class="flex-col gap-md"></div></div>'),Va=C('<!> <div style="text-align: center; padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="color: var(--color-text-muted); font-size: var(--font-size-sm);"> </p></div>',1),Fa=C(`<div id="results" class="flex-col gap-lg"><section><!></section> <!> <section class="card"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);"><h2 style="margin: 0;" class="svelte-b3a3x6">Individual Worldview Evaluations</h2> <button type="button" class="button button-secondary" style="font-size: var(--font-size-sm);"> </button></div> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-lg);">Each worldview provides a unique lens through which to examine the scenario.
						Differences illuminate the structural geometry of the moral problem.</p> <!></section> <section class="card" style="background: var(--color-surface); border: 1px solid var(--color-border);"><div style="color: var(--color-text-muted); font-size: var(--font-size-sm);"><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);"><div><strong style="color: var(--color-text);">Deliberation ID:</strong><br/> <code style="font-size: var(--font-size-xs);" class="svelte-b3a3x6"> </code></div> <div><strong style="color: var(--color-text);">Completed:</strong><br/> </div> <div><strong style="color: var(--color-text);">Domain:</strong><br/> </div> <div><strong style="color: var(--color-text);">Conflicts Identified:</strong><br/> </div></div></div></section></div>`),Ha=C(`<div class="container" style="padding: var(--spacing-2xl) 0;"><header style="margin-bottom: var(--spacing-2xl);"><div style="display: flex; justify-content: space-between; align-items: start; flex-wrap: wrap; gap: var(--spacing-md);"><div><h1>Ethical Deliberation</h1> <p style="color: var(--color-text-muted); max-width: 800px;">Describe an ethical scenario to receive multi-perspectival analysis from 12 worldviews.
					The interface illuminates complexity rather than simplifying it.</p></div> <button class="button button-secondary" style="white-space: nowrap;">Browse Templates</button></div></header> <main class="flex-col gap-lg"><section><!> <!></section> <!> <!></main> <!></div>`);function si(f,a){Oe(a,!1);const c=()=>At(Ze,"$deliberation",n),[n,b]=It(),s=oe(),_=oe(),r=oe(),g=oe();let h=oe({description:"",domain:"",context:{}}),o=oe(!1),y=oe(null),u=oe(!1),k=oe(!1);async function E(){L(y,null);try{L(o,!0);const p=await Ze.deliberate(e(h));await Ct.saveDeliberation(p),setTimeout(()=>{document.getElementById("results")?.scrollIntoView({behavior:"smooth"})},100)}catch(p){L(y,p.message)}finally{L(o,!1)}}function P(){L(h,{description:"",domain:"",context:{}}),Ze.reset(),L(y,null),L(u,!1)}function K(p){L(h,{description:p.detail.description,domain:p.detail.domain,context:{}}),L(k,!1)}we(()=>c(),()=>{L(s,c().currentDeliberation)}),we(()=>e(s),()=>{L(_,e(s)?.metadata?.conflicts||[])}),we(()=>e(s),()=>{L(r,e(s)?.worldviews?.map(p=>({worldview:p.worldview,judgment:p.judgment,confidence:p.confidence,weight:p.weight}))||[])}),we(()=>e(_),()=>{L(g,e(_).map(p=>({worldviews:p.worldviews||p.perspectives||[],severity:p.severity||"moderate"})))}),qe(),Le();var $=Ha(),q=i($),R=i(q),N=l(i(R),2);t(R),t(q);var V=l(q,2),X=i(V),ie=i(X);Xt(ie,{onSubmit:E,get disabled(){return e(o)},get scenario(){return e(h)},set scenario(p){L(h,p)},children:(p,W)=>{var F=Sa(),H=i(F),Z=i(H);{var le=z=>{var B=We("Deliberating...");M(z,B)},se=z=>{var B=We("Begin Deliberation");M(z,B)};Q(Z,z=>{e(o)?z(le):z(se,!1)})}t(H);var A=l(H,2);{var x=z=>{var B=Ea();re("click",B,P),M(z,B)};Q(A,z=>{e(s)&&z(x)})}t(F),G(()=>H.disabled=e(o)),M(p,F)},$$slots:{default:!0},$$legacy:!0});var w=l(ie,2);{var T=p=>{var W=za(),F=i(W);t(W),G(()=>O(F,`⚠️ ${e(y)??""}`)),M(p,W)};Q(w,p=>{e(y)&&p(T)})}t(X);var S=l(X,2);{var U=p=>{var W=Wa();M(p,W)};Q(S,p=>{e(o)&&p(U)})}var I=l(S,2);{var d=p=>{var W=Fa(),F=i(W),H=i(F);{let ne=Se(()=>(e(s),v(()=>e(s).supportingWorldviews||[]))),fe=Se(()=>(e(s),v(()=>e(s).minorityViews||[]))),_e=Se(()=>(e(s),v(()=>e(s).metadata?.evaluationsCount||e(s).worldviews?.length||0))),te=Se(()=>(e(s),e(_),v(()=>e(s).metadata?.conflictsCount||e(_).length)));Ta(H,{get judgment(){return e(s),v(()=>e(s).judgment)},get confidence(){return e(s),v(()=>e(s).confidence)},get confidenceLevel(){return e(s),v(()=>e(s).confidenceLevel)},get justification(){return e(s),v(()=>e(s).justification)},get domain(){return e(s),v(()=>e(s).domain)},get supportingWorldviews(){return e(ne)},get minorityViews(){return e(fe)},get worldviewsConsulted(){return e(_e)},get conflictsDetected(){return e(te)}})}t(F);var Z=l(F,2);{var le=ne=>{var fe=La(),_e=i(fe);ya(_e,{get worldviews(){return e(r)},get conflicts(){return e(g)},width:700,height:700}),t(fe),M(ne,fe)};Q(Z,ne=>{e(r),v(()=>e(r).length>0)&&ne(le)})}var se=l(Z,2),A=i(se),x=l(i(A),2),z=i(x,!0);t(x),t(A);var B=l(A,4);{var ce=ne=>{var fe=Oa();Te(fe,5,()=>(e(s),v(()=>e(s).worldviews)),Ie,(_e,te)=>{{let De=Se(()=>(e(te),v(()=>e(te).values||[])));lt(_e,{get worldview(){return e(te),v(()=>e(te).worldview)},get judgment(){return e(te),v(()=>e(te).judgment)},get confidence(){return e(te),v(()=>e(te).confidence)},get weight(){return e(te),v(()=>e(te).weight)},get reasoning(){return e(te),v(()=>e(te).reasoning)},get values(){return e(De)},isExpanded:!1})}}),t(fe),M(ne,fe)},ve=ne=>{var fe=Va(),_e=Ge(fe);{var te=Ye=>{var Je=qa(),tt=l(i(Je),2);Te(tt,5,()=>(e(s),v(()=>e(s).worldviews.filter(Xe=>e(s).minorityViews?.some(ye=>ye.worldview===Xe.worldview)))),Ie,(Xe,ye)=>{{let ht=Se(()=>(e(ye),v(()=>e(ye).values||[])));lt(Xe,{get worldview(){return e(ye),v(()=>e(ye).worldview)},get judgment(){return e(ye),v(()=>e(ye).judgment)},get confidence(){return e(ye),v(()=>e(ye).confidence)},get weight(){return e(ye),v(()=>e(ye).weight)},get reasoning(){return e(ye),v(()=>e(ye).reasoning)},get values(){return e(ht)},isExpanded:!0})}}),t(tt),t(Je),M(Ye,Je)};Q(_e,Ye=>{e(s),v(()=>e(s).minorityViews&&e(s).minorityViews.length>0)&&Ye(te)})}var De=l(_e,2),He=i(De),gt=i(He);t(He),t(De),G(()=>O(gt,`Click "View All ${e(s),v(()=>e(s).worldviews.length)??""} Worldviews" above to see the complete multi-perspectival analysis`)),M(ne,fe)};Q(B,ne=>{e(u)?ne(ce):ne(ve,!1)})}t(se);var Y=l(se,2),j=i(Y),D=i(j),ee=i(D),ue=l(i(ee),3),je=i(ue,!0);t(ue),t(ee);var ge=l(ee,2),Ae=l(i(ge),2);t(ge);var xe=l(ge,2),he=l(i(xe),2);t(xe);var de=l(xe,2),pe=l(i(de),2);t(de),t(D),t(j),t(Y),t(W),G(ne=>{O(z,(e(u),e(s),v(()=>e(u)?"Collapse All":`View All ${e(s).worldviews.length} Worldviews`))),O(je,(e(s),v(()=>e(s).id))),O(Ae,` ${ne??""}`),O(he,` ${e(s),v(()=>e(s).domain)??""}`),O(pe,` ${e(s),v(()=>e(s).metadata?.conflictsCount||0)??""}`)},[()=>(e(s),v(()=>new Date(e(s).timestamp).toLocaleString()))]),re("click",x,()=>L(u,!e(u))),M(p,W)};Q(I,p=>{e(s)&&!e(o)&&p(d)})}t(V);var m=l(V,2);Ra(m,{get show(){return e(k)},set show(p){L(k,p)},$$events:{select:K},$$legacy:!0}),t($),re("click",N,()=>L(k,!0)),M(f,$),Ve(),b()}export{si as component};
