import{t as c}from"./2HVRzNst.js";import{h as s,f as b,e as h,z as m,i as g,a8 as q,a9 as y,g as d,p as S}from"./BKIGzYeV.js";function N(r,a,n,i,u,e){var f=r.__className;if(s||f!==n||f===void 0){var t=c(n,i,e);(!s||t!==r.getAttribute("class"))&&(t==null?r.removeAttribute("class"):r.className=t),r.__className=n}else if(e&&u!==e)for(var l in e){var o=!!e[l];(u==null||o!==!!u[l])&&r.classList.toggle(l,o)}return e}function _(r,a,n=!1){if(r.multiple){if(a==null)return;if(!g(a))return q();for(var i of r.options)i.selected=a.includes(v(i));return}for(i of r.options){var u=v(i);if(y(u,a)){i.selected=!0;return}}(!n||a!==void 0)&&(r.selectedIndex=-1)}function p(r){var a=new MutationObserver(()=>{_(r,r.__value)});a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),m(()=>{a.disconnect()})}function L(r,a,n=a){var i=new WeakSet,u=!0;b(r,"change",e=>{var f=e?"[selected]":":checked",t;if(r.multiple)t=[].map.call(r.querySelectorAll(f),v);else{var l=r.querySelector(f)??r.querySelector("option:not([disabled])");t=l&&v(l)}n(t),d!==null&&i.add(d)}),h(()=>{var e=a();if(r===document.activeElement){var f=S??d;if(i.has(f))return}if(_(r,e,u),u&&e===void 0){var t=r.querySelector(":checked");t!==null&&(e=v(t),n(e))}r.__value=e,u=!1}),p(r)}function v(r){return"__value"in r?r.__value:r.value}export{L as b,N as s};
