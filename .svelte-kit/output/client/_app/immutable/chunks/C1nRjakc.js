import{f as g,b as p}from"./6je7jFEO.js";import{i as Ne}from"./CpeNIsaV.js";import{o as $e}from"./2rQ4z31m.js";import{aS as je,b0 as f,aZ as o,aY as n,v as e,aU as Ce,b7 as b,s as z,w as c,b6 as Pe,a_ as r,aG as W}from"./DoHTLkW9.js";import{e as y,s as m}from"./CLB9YTXT.js";import{i as w}from"./BJiw7fV6.js";import{e as ce,i as ve,s as Ae}from"./BlBqY9SD.js";import{r as D,a as Ue,s as de,b as Je}from"./B1Cm07i3.js";import{b as Be,s as Ge}from"./C8dq-iSI.js";import{a as me,b as Fe}from"./CxCuRt6O.js";import{s as G}from"./BHcPN9sa.js";var Ye=g('<div class="setting-item svelte-1wkby80"><label for="max-history" class="svelte-1wkby80"><strong>Maximum History Items</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Automatically remove oldest items when limit is reached</span></label> <input type="number" id="max-history" min="10" max="1000" step="10" class="svelte-1wkby80"/></div>'),Ze=g('<label><input type="checkbox" class="svelte-1wkby80"/> <span class="worldview-name svelte-1wkby80"> </span> <span class="worldview-cluster svelte-1wkby80"> </span></label>'),qe=g('<div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="font-size: var(--font-size-sm); color: var(--color-text-muted);"><strong> </strong> </p></div>'),Ke=g('<div class="weight-item svelte-1wkby80"><label class="svelte-1wkby80"><strong> </strong> <span style="font-size: var(--font-size-sm); color: var(--color-text-muted);"> </span></label> <input type="number" min="0" max="1" step="0.1" style="max-width: 100px;"/></div>'),Qe=g('<div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--color-surface); border-radius: var(--radius-md);"><p style="font-size: var(--font-size-sm); color: var(--color-text-muted);"><strong> </strong> </p></div>'),Ve=g('<span style="margin-left: var(--spacing-md); color: var(--color-success);">✓ Settings exported!</span>'),Xe=g('<div style="margin-top: var(--spacing-xs); color: var(--color-error); font-size: var(--font-size-sm);"> </div>'),et=g("<div> </div>"),tt=g('<div class="container" style="padding: var(--spacing-2xl) 0;"><header style="margin-bottom: var(--spacing-2xl);"><h1>Settings</h1> <p style="color: var(--color-text-muted);">Configure your preferences and customize the deliberation experience</p></header> <main class="flex-col gap-lg"><section class="card"><h2 style="margin-bottom: var(--spacing-lg);" class="svelte-1wkby80">General Settings</h2> <div class="settings-group svelte-1wkby80"><div class="setting-item svelte-1wkby80"><label for="theme" class="svelte-1wkby80"><strong>Theme</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Choose your preferred color scheme</span></label> <select id="theme" class="svelte-1wkby80"><option>Light</option><option>Dark</option><option>Auto (System)</option></select></div> <div class="setting-item svelte-1wkby80"><label for="save-history" style="display: flex; align-items: center; gap: var(--spacing-md); cursor: pointer;" class="svelte-1wkby80"><input type="checkbox" id="save-history" style="width: auto; cursor: pointer;"/> <div><strong>Save Deliberation History</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Store past deliberations in browser storage</span></div></label></div> <!> <div class="setting-item svelte-1wkby80"><label for="notifications" style="display: flex; align-items: center; gap: var(--spacing-md); cursor: pointer;" class="svelte-1wkby80"><input type="checkbox" id="notifications" style="width: auto; cursor: pointer;"/> <div><strong>Enable Notifications</strong> <span style="display: block; color: var(--color-text-muted); font-size: var(--font-size-sm); font-weight: normal;">Receive notifications when deliberations complete</span></div></label></div></div></section> <section class="card"><h2 style="margin-bottom: var(--spacing-md);" class="svelte-1wkby80">Default Worldviews</h2> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-lg);">Select which worldviews to consult by default. Leave empty to use all 12 worldviews.</p> <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);"></div> <!></section> <section class="card"><h2 style="margin-bottom: var(--spacing-md);" class="svelte-1wkby80">Custom Domain Weights</h2> <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin-bottom: var(--spacing-lg);">Override default domain weights for specific worldviews (0.0 - 1.0). Leave at 0 to use default weights.</p> <div class="weight-overrides svelte-1wkby80"></div> <!></section> <section class="card"><h2 style="margin-bottom: var(--spacing-lg);" class="svelte-1wkby80">Data Management</h2> <div class="flex-col gap-md"><div><button class="button button-secondary">Export Settings</button> <!> <p style="margin-top: var(--spacing-xs); color: var(--color-text-muted); font-size: var(--font-size-sm);">Download your settings as a JSON file</p></div> <div><label for="import-file" class="button button-secondary" style="cursor: pointer;">Import Settings</label> <input type="file" id="import-file" accept=".json" style="display: none;"/> <!> <p style="margin-top: var(--spacing-xs); color: var(--color-text-muted); font-size: var(--font-size-sm);">Load settings from a JSON file</p></div> <div style="margin-top: var(--spacing-lg); padding-top: var(--spacing-lg); border-top: 1px solid var(--color-border);"><button class="button" style="background: var(--color-error); color: white;">Clear All Data</button> <p style="margin-top: var(--spacing-xs); color: var(--color-text-muted); font-size: var(--font-size-sm);">⚠️ This will delete all history and reset settings. This action cannot be undone.</p></div></div></section> <section class="card" style="background: var(--color-surface);"><div style="display: flex; gap: var(--spacing-md); flex-wrap: wrap; align-items: center;"><button class="button"> </button> <button class="button button-secondary">Reset to Defaults</button> <!></div></section></main></div>');function ut(ue,pe){je(pe,!1);let a=z({defaultWorldviews:[],customWeights:{},theme:"light",enableNotifications:!1,saveHistory:!0,maxHistoryItems:100}),F=[{name:"Materialism",cluster:"Material-Empirical"},{name:"Sensationalism",cluster:"Material-Empirical"},{name:"Phenomenalism",cluster:"Material-Empirical"},{name:"Realism",cluster:"Material-Empirical"},{name:"Dynamism",cluster:"Process-Individual"},{name:"Monadism",cluster:"Process-Individual"},{name:"Idealism",cluster:"Process-Individual"},{name:"Rationalism",cluster:"Process-Individual"},{name:"Psychism",cluster:"Depth-Spiritual"},{name:"Pneumatism",cluster:"Depth-Spiritual"},{name:"Spiritualism",cluster:"Depth-Spiritual"},{name:"Mathematism",cluster:"Depth-Spiritual"}],I=z(!1),d=z(null),E=z(!1),k=z(null);$e(async()=>G.subscribe(s=>{s.preferences&&c(a,{...e(a),...s.preferences})}));async function ge(){c(I,!0),c(d,null);try{await G.updatePreferences(e(a)),c(d,{type:"success",text:"Settings saved successfully!"})}catch(t){c(d,{type:"error",text:`Error saving settings: ${t.message}`})}finally{c(I,!1),setTimeout(()=>{c(d,null)},3e3)}}function fe(){confirm("Reset all settings to defaults? This cannot be undone.")&&c(a,{defaultWorldviews:[],customWeights:{},theme:"light",enableNotifications:!1,saveHistory:!0,maxHistoryItems:100})}function be(t){e(a).defaultWorldviews.indexOf(t)>-1?b(a,e(a).defaultWorldviews=e(a).defaultWorldviews.filter(i=>i!==t)):b(a,e(a).defaultWorldviews=[...e(a).defaultWorldviews,t])}function ye(t,s){const i=parseFloat(s);if(!(isNaN(i)||i<0||i>1))if(i===0){const{[t]:l,...v}=e(a).customWeights;b(a,e(a).customWeights=v)}else b(a,e(a).customWeights={...e(a).customWeights,[t]:i})}async function he(){const t={preferences:e(a),exportDate:new Date().toISOString(),version:"1.0"},s=JSON.stringify(t,null,2),i=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(i),v=document.createElement("a");v.href=l,v.download=`iee-settings-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(l),c(E,!0),setTimeout(()=>{c(E,!1)},3e3)}async function _e(t){const s=t.target.files?.[0];if(s){try{const i=await s.text(),l=JSON.parse(i);if(l.preferences)c(a,{...e(a),...l.preferences}),c(k,null),c(d,{type:"success",text:"Settings imported successfully!"}),setTimeout(()=>{c(d,null)},3e3);else throw new Error("Invalid settings file format")}catch(i){c(k,`Error importing settings: ${i.message}`),setTimeout(()=>{c(k,null)},5e3)}t.target.value=""}}async function xe(){if(confirm("Clear ALL data including history and settings? This cannot be undone!"))try{await G.reset(),c(a,{defaultWorldviews:[],customWeights:{},theme:"light",enableNotifications:!1,saveHistory:!0,maxHistoryItems:100}),c(d,{type:"success",text:"All data cleared successfully!"})}catch(t){c(d,{type:"error",text:`Error clearing data: ${t.message}`})}}Ne();var H=tt(),Y=n(o(H),2),O=o(Y),Z=n(o(O),2),M=o(Z),T=n(o(M),2);f(()=>{e(a),Pe(()=>{})});var L=o(T);L.value=L.__value="light";var R=n(L);R.value=R.__value="dark";var q=n(R);q.value=q.__value="auto",r(T),r(M);var N=n(M,2),K=o(N),Q=o(K);D(Q),W(2),r(K),r(N);var V=n(N,2);{var we=t=>{var s=Ye(),i=n(o(s),2);D(i),r(s),Fe(i,()=>e(a).maxHistoryItems,l=>b(a,e(a).maxHistoryItems=l)),p(t,s)};w(V,t=>{e(a).saveHistory&&t(we)})}var X=n(V,2),ee=o(X),te=o(ee);D(te),W(2),r(ee),r(X),r(Z),r(O);var $=n(O,2),j=n(o($),4);ce(j,5,()=>F,ve,(t,s)=>{var i=Ze();let l;var v=o(i);D(v);var u=n(v,2),h=o(u,!0);r(u);var _=n(u,2),x=o(_,!0);r(_),r(i),f((B,Re)=>{l=Ge(i,1,"worldview-checkbox svelte-1wkby80",null,l,B),Ue(v,Re),m(h,e(s).name),m(x,e(s).cluster)},[()=>({selected:e(a).defaultWorldviews.includes(e(s).name)}),()=>e(a).defaultWorldviews.includes(e(s).name)]),y("change",v,()=>be(e(s).name)),p(t,i)}),r(j);var ke=n(j,2);{var Se=t=>{var s=qe(),i=o(s),l=o(i),v=o(l,!0);r(l);var u=n(l);r(i),r(s),f(()=>{m(v,e(a).defaultWorldviews.length),m(u,` worldview${e(a).defaultWorldviews.length!==1?"s":""} selected`)}),p(t,s)};w(ke,t=>{e(a).defaultWorldviews.length>0&&t(Se)})}r($);var C=n($,2),P=n(o(C),4);ce(P,5,()=>F,ve,(t,s)=>{var i=Ke(),l=o(i),v=o(l),u=o(v,!0);r(v);var h=n(v,2),_=o(h);r(h),r(l);var x=n(l,2);D(x),r(i),f(()=>{de(l,"for",`weight-${e(s).name??""}`),m(u,e(s).name),m(_,`(${e(s).cluster??""})`),de(x,"id",`weight-${e(s).name??""}`),Je(x,e(a).customWeights[e(s).name]||0)}),y("change",x,B=>ye(e(s).name,B.target.value)),p(t,i)}),r(P);var ze=n(P,2);{var We=t=>{var s=Qe(),i=o(s),l=o(i),v=o(l,!0);r(l);var u=n(l);r(i),r(s),f((h,_)=>{m(v,h),m(u,` custom weight${_??""} defined`)},[()=>Object.keys(e(a).customWeights).length,()=>Object.keys(e(a).customWeights).length!==1?"s":""]),p(t,s)};w(ze,t=>{Object.keys(e(a).customWeights).length>0&&t(We)})}r(C);var A=n(C,2),se=n(o(A),2),U=o(se),ae=o(U),De=n(ae,2);{var Ie=t=>{var s=Ve();p(t,s)};w(De,t=>{e(E)&&t(Ie)})}W(2),r(U);var J=n(U,2),re=n(o(J),2),Ee=n(re,2);{var He=t=>{var s=Xe(),i=o(s,!0);r(s),f(()=>m(i,e(k))),p(t,s)};w(Ee,t=>{e(k)&&t(He)})}W(2),r(J);var ie=n(J,2),Oe=o(ie);W(2),r(ie),r(se),r(A);var oe=n(A,2),ne=o(oe),S=o(ne),Me=o(S,!0);r(S);var le=n(S,2),Te=n(le,2);{var Le=t=>{var s=et();let i;var l=o(s,!0);r(s),f(()=>{i=Ae(s,"padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--radius-md); font-size: var(--font-size-sm);",i,{background:e(d).type==="success"?"#d1fae5":"#fee",color:e(d).type==="success"?"var(--color-success)":"var(--color-error)"}),m(l,e(d).text)}),p(t,s)};w(Te,t=>{e(d)&&t(Le)})}r(ne),r(oe),r(Y),r(H),f(()=>{S.disabled=e(I),m(Me,e(I)?"Saving...":"Save Settings")}),Be(T,()=>e(a).theme,t=>b(a,e(a).theme=t)),me(Q,()=>e(a).saveHistory,t=>b(a,e(a).saveHistory=t)),me(te,()=>e(a).enableNotifications,t=>b(a,e(a).enableNotifications=t)),y("click",ae,he),y("change",re,_e),y("click",Oe,xe),y("click",S,ge),y("click",le,fe),p(ue,H),Ce()}export{ut as component};
